<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><LINK REL="STYLESHEET" HREF="cmdref.css" CHARSET="ISO-8859-1" TYPE="text/css"><TITLE>DumpCode </TITLE></HEAD><BODY BGCOLOR="#ffffff"><!--#include file="breadcrumb" --><!--#include virtual="/adcnavbar" --><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD><TABLE WIDTH="600" BGCOLOR="0" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD><P CLASS="BookTitle">MPW Command Reference</P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="doit.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="dumpfile.html">Next</A></P></TD>	</TR></TABLE><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="475"><P CLASS="PageHdL">DumpCode</P></TD>		<TD WIDTH="125"><P CLASS="PageHdR">Tool</P></TD>	</TR></TABLE><P CLASS="SectionHd">SYNTAX</P><P CLASS="Syntax">DumpCode <I>resourceFile</I> [-a] [-d] [-di] [-h] [-jt] [-n] [-p]<BR>[-r <I>byte1</I>[,<I>byteN</I>]] [-ri] [-rt <I>type</I>[=<I>ID</I>]] [-s <I>resourceName</I>]</P><P CLASS="SectionHd">DESCRIPTION</P><P CLASS="Text1">The DumpCode tool disassembles classic 68K and CFM-68K code that is stored in code resources such as <FONT FACE="courier">'CODE'</FONT>, <FONT FACE="courier">'DRVR'</FONT>, and <FONT FACE="courier">'PDEF'</FONT>.Reading from the resource fork of the specified file, DumpCode writes formatted assembly code to standard output.</P><P CLASS="Text1">By default, this command dumps only <FONT FACE="courier">'CODE'</FONT> resources from a program file; however, you can use the <FONT FACE="courier">-rt</FONT> option to dump resources of other types, such as drivers and standalone code. </P><P CLASS="Text1">DumpCode displays <FONT FACE="courier">'CODE'</FONT> resources from applications built for either the classic 68K or CFM-68K runtime environment.</P><P CLASS="SectionHd">INPUT</P><P CLASS="Text1">The file specified by <I>resourceFile</I>.DumpCode does not accept standard input.</P><P CLASS="SectionHd">OUTPUT</P><P CLASS="Text1">Standard output. DumpCode writes disassembled code to standard output, displaying the corresponding bytes in hexadecimal and ASCII form. In addition, conventions about executable <FONT FACE="courier">'CODE'</FONT> resources are built into DumpCode and affect the formatted output in special ways: </P><P CLASS="Text1"><FONT FACE="courier">&#149; </FONT>formats <FONT FACE="courier">'CODE'</FONT> resources with ID 0 as a jump table in unloaded format</P><P CLASS="Text1"><FONT FACE="courier">&#149; </FONT>displays jump table information stored in the segment header for all other <FONT FACE="courier">'CODE'</FONT> resources</P><P CLASS="Text1"><FONT FACE="courier">&#149; </FONT>uses a special format at the beginning of <FONT FACE="courier">'DRVR'</FONT> resources</P><P CLASS="SectionHd">STATUS</P><P CLASS="Text1">DumpCode can return the following status codes:<BR><BR></P><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">0</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">no errors</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">1</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">syntax error</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">2</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">fatal error</P></TD></TR></TABLE><P CLASS="SectionHd">PARAMETERS</P><P CLASS="Option1"><I>resourceFile</I></P><P CLASS="OptionText1">Specifies the resource file to be disassembled.</P><P CLASS="SectionHd">OPTIONS</P><P CLASS="Text1">Numeric values for options can be specified as decimal constants, or as hexadecimal constants preceded by a $ symbol.</P><P CLASS="Option1">-a</P><P CLASS="OptionText1">Inhibits adjusting offsets in the output for segment headers. By default, the size of the segment header is subtracted from each offset. </P><P CLASS="Option1">-d</P><P CLASS="OptionText1">Suppresses the disassembly and dumping of code. Normally DumpCode always disassembles the specified resource file.</P><P CLASS="OptionText1">This option is useful for generating a small output file displaying just the resource names, sizes, and header information. It is also useful for retrieving specialized information, such as the jump table or data descriptors.</P><P CLASS="Option1">-di</P><P CLASS="OptionText1">Suppresses display of data initialization information. Normally DumpCode writes data initialization code to standard output.</P><P CLASS="Option1">-h</P><P CLASS="OptionText1">Suppresses the writing of header information, such as resource-relative locations and hexadecimal and ASCII equivalents. The DumpCode tool normally produces this header information.</P><P CLASS="OptionText1">This option allows you, for instance, to edit the output and use it as input to the assembler.</P><P CLASS="Option1">-jt</P><P CLASS="OptionText1">Suppresses formatting of the jump table, generating only summary information. Normally DumpCode formats the jump table unless you specify the <FONT FACE="courier">-jt</FONT>, <FONT FACE="courier">-n</FONT>, <FONT FACE="courier">-rt</FONT>, or <FONT FACE="courier">-s</FONT> options.</P><P CLASS="Option1">-n</P><P CLASS="OptionText1">Writes only a list of the resource names found in <I>resourceFile</I>. This option is useful for finding segments or desk accessories by name. </P><P CLASS="Option1">-p</P><P CLASS="OptionText1">Writes progress information, such as filenames, resource names, IDs, and sizes, to diagnostic output.</P><P CLASS="Option1">-r <I>byte1</I>[,<I>byteN</I>]</P><P CLASS="OptionText1">Limits the disassembly of code to the range <I>byte1</I> to <I>byteN</I>. Normally DumpCode disassembles all bytes in a segment. If you omit <I>byteN</I>, the command disassembles the rest of the segment. </P><P CLASS="OptionText1">This option does not affect disassembly alignment; the disassembly still starts at the base of the resource, but instructions are printed only for the specified range.</P><P CLASS="Option1">-ri</P><P CLASS="OptionText1">Suppresses relocation information in the disassembled code. This option is for use only with MPW's &quot;32-bit everything.&quot;</P><P CLASS="Option1">-rt <I>type</I>[=<I>ID</I>]</P><P CLASS="OptionText1">Disassembles only the single resource of the specified type and numerical ID. If you omit the <I>ID</I> parameter, DumpCode disassembles and dumps all resources of the specified type.</P><P CLASS="OptionText1">Use this option to specify a type of resource other than <FONT FACE="courier">'CODE'</FONT> or to further limit the resources dumped by specifying an ID. </P><P CLASS="Option1">-s <I>resourceName</I></P><P CLASS="OptionText1">Disassembles only the single resource named <I>resourceName</I>. </P><P CLASS="SectionHd">EXAMPLES</P><P CLASS="Text1">The following command line disassembles the <FONT FACE="courier">'CODE'</FONT> resources in the file <FONT FACE="courier">Sample</FONT> by writing the output to the file <FONT FACE="courier">Sample.Dump</FONT>.</P><P CLASS="Code">DumpCode Sample &gt; Sample.Dump</P><P CLASS="Text1">The output has this format:</P><PRE CLASS="Code">File: sample, Resource 3, Type: CODE, Name: _DataInitOffset of first jump table entry: $00000018Segment is $000000D2 bytes long, and uses 1 jump table entry000000: 48E7 FFF0     'H...'     MOVEM.L    D0-D7/A0-A3,-(A7)000004: 4247          'BG'       CLR.W      D7000006: 4EAD 0032     'N..2'     JSR        $0032(A5)00000A: 2218          '&quot;.'       MOVE.L     (A0)+,D1</PRE><P CLASS="SectionHd">LIMITATIONS</P><P CLASS="Text1">DumpCode cannot display the entire jump table for a CFM-68K application. The jump table for these applications is stored within the PEF container, which DumpCode cannot read.</P><P CLASS="SectionHd">SEE ALSO</P><P CLASS="Text1"><FONT FACE="courier"><A HREF="dumpfile.html">DumpFile</A></FONT></P><P CLASS="Text1"><FONT FACE="courier"><A HREF="dumpobj.html">DumpObj</A></FONT></P><P CLASS="Text1"><FONT FACE="courier"><A HREF="dumppef.html">DumpPEF</A></FONT></P><P CLASS="Text1"><FONT FACE="courier"><A HREF="dumpsym.html">DumpSYM</A></FONT></P><P CLASS="Text1"><FONT FACE="courier"><A HREF="dumpxcoff.html">DumpXCOFF</A></FONT></P><P CLASS="Text1"><FONT FACE="courier"><A HREF="ilink.html">ILink</A></FONT></P><P CLASS="Text1">The Segment Manager chapter of <I>Inside Macintosh: Processes</I>.</P><P CLASS="Text1">&nbsp;<BR>&nbsp;</P><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="doit.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="dumpfile.html">Next</A></P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="600">		<P CLASS="Copyright">Copyright Apple Computer, Inc. 1993-2000</P>		<P CLASS="Date">Last Updated July 2000</P>		</TD>	</TR></TABLE></TD></TR></TABLE><!--#include virtual="/footer" --></BODY></HTML>