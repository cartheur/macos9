<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><LINK REL="STYLESHEET" HREF="cmdref.css" CHARSET="ISO-8859-1" TYPE="text/css"><TITLE>PPCLink</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!--#include file="breadcrumb" --><!--#include virtual="/adcnavbar" --><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD><TABLE WIDTH="600" BGCOLOR="0" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD><P CLASS="BookTitle">MPW Command Reference</P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="ppcasm.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="ppcproff.html">Next</A></P></TD>	</TR></TABLE><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="475"><P CLASS="PageHdL">PPCLink</P></TD>		<TD WIDTH="125"><P CLASS="PageHdR">Tool</P></TD>	</TR></TABLE><P CLASS="SectionHd">SYNTAX</P><P CLASS="Syntax">PPCLink <I>filename1</I> [<I>filename2</I>]&#133;<BR>[-ac <I>n</I>] [-ad <I>n</I>] [-blocksize <I>n</I>] [-c <I>creator</I>]<BR>[-codeorder source | staticcall | reference | <B>segment</B> | file=<I>filename</I>]<BR>[-codestart <I>address</I>] [-d] [-datastart <I>address</I>] [-dead on | off]<BR> [-@export <I>filename</I>] [-export <I>name</I>[,<I>name</I>]&#133;] [-exportglue <B>on</B> | off]<BR>[-@filelist <I>filename</I>] [-fragname <I>fragName</I>] [-h[elp]]<BR> [-@ignoredups <I>filename</I>] [-ignoredups <I>name</I>[,<I>name</I>]&#133;] <BR>[-init <B>default</B> | none | <I>initEntry</I>] [-initbefore <I>fragName</I>[,<I>fragName</I>]&#133;]<BR>[-librename <I>old</I>=<I>new</I>] [-linkfaster <B>on</B> | off] [-m[ain] <I>entryPoint</I>]<BR>[-map <I>filename</I>] [-<B>mf</B> | -nomf] [-o <I>filename</I>]<BR>[-outputformat <B>default</B> | pef | xcoff] [-p] [-packdata <B>on</B> | off]<BR>[-profile on | <B>off</B> | exclude=<I>name</I>[,<I>name</I>]&#133;]<BR>[-rodatais <B>data</B> | code | constant] [-roistext on | <B>off</B>]<BR>[-sg <I>newSeg</I>=<I>oldSeg</I>[,<I>oldSeg</I>]&#133;] [-share <B>context</B> | global | protected]<BR>[-sym on | <B>off</B> | big] [-t <I>type</I>] [-term <B>default</B> | none <I>termEntry</I>]<BR>[-tocdataref <B>on</B> | off] [-uf <I>filename</I>] [-unmangle <B>on</B> | off] [-v]<BR>[-vercur <I>n</I>] [-verdef <I>n</I>] [-verimp <I>n</I>] [-w[arn]] [-@weak <I>filename</I>]<BR>[-weak <I>name</I>[,<I>name</I>]&#133;] [-weaklib <I>fragName</I>[,<I>fragName</I>]&#133;]<BR>[-xm <B>e</B>[<B>xecutable</B>] | l[ibrary] | s[haredlibrary] | d[ropin]]</P><P CLASS="SectionHd">DESCRIPTION</P><P CLASS="Text1">You use the PPCLink tool to link compiled object files, static libraries, and shared libraries into a static library, a shared library, a drop-in addition, or an executable code fragment such as an application. You can mix options and filenames on the command line. </P><P CLASS="Text1">By default, PPCLink keeps object files in memory in purgeable handles. This minimizes I/O time and improves performance. However, if linking fails because the linker ran out of memory, you should use the <FONT FACE="courier">-linkfaster off</FONT> option.</P><P CLASS="Text1">When using PPCLink to build an accelerated resource, you must specify the <FONT FACE="courier">-packdata off</FONT> and <FONT FACE="courier">-term none</FONT> command line options.</P><P CLASS="SectionHd">INPUT</P><P CLASS="Text1">Object files of type <FONT FACE="courier">'XCOF'</FONT>, static libraries of type <FONT FACE="courier">'XCOF'</FONT>, and shared libraries of any type. The PPCLink tool does not accept standard input.</P><P CLASS="SectionHd">OUTPUT</P><P CLASS="Text1">A static library, a shared library, a drop-in addition, or an executable code fragment with the default name <FONT FACE="courier">PPCLink.out</FONT>.To give the output file a more meaningful name, use the <FONT FACE="courier">-o</FONT> option. </P><P CLASS="SectionHd">STATUS</P><P CLASS="Text1">PPCLink can return the following status codes:<BR><BR></P><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">0</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">no errors</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">1</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">fatal error</P></TD></TR></TABLE><P CLASS="SectionHd">PARAMETERS</P><P CLASS="Option1"><I>filename1</I> [<I>filename2</I>]&#133;</P><P CLASS="OptionText1">Specifies one or more object files, static libraries, and shared libraries to be linked.</P><P CLASS="SectionHd">OPTIONS</P><P CLASS="Option1">-ac <I>n</I></P><P CLASS="OptionText1">Aligns code modules on <I>n</I>-byte (minimum) boundaries. The value of <I>n</I> must be a power of 2.By default, code modules are aligned on 4-byte (minimum) boundaries.</P><P CLASS="Option1">-ad <I>n</I></P><P CLASS="OptionText1">Aligns data modules on <I>n</I>-byte (minimum) boundaries. The value of <I>n</I> must be a power of 2.By default, data modules are aligned on 4-byte (minimum) boundaries.</P><P CLASS="Option1">-blocksize <I>n</I></P><P CLASS="OptionText1">Specifies the maximum number of 512-byte blocks to read/write at one time.This option can be used to increase the frequency of SpinCursor calls when linking large files.</P><P CLASS="Option1">-c <I>creator</I></P><P CLASS="OptionText1">Sets the output file creator to <I>creator</I>.The default creator depends on the setting of the <FONT FACE="courier">-outputformat</FONT>option, as follows:</P><P CLASS="OptionText1"><FONT FACE="courier">&#149; </FONT><FONT FACE="courier">'MPS '</FONT> if -<FONT FACE="courier">outputformat xcoff</FONT></P><P CLASS="OptionText1"><FONT FACE="courier">&#149; </FONT><FONT FACE="courier">'????'</FONT> if <FONT FACE="courier">-outputformat pef</FONT></P><P CLASS="Option1">-codeorder source | staticcall | reference | <B>segment</B> | file=<I>filename</I></P><P CLASS="OptionText1">Specifies the order in which functions are written to the output file. </P><P CLASS="Option2">source</P><P CLASS="OptionText2">Writes the functions in the order in which they appear in the input files on the command line.</P><P CLASS="Option2">staticcall</P><P CLASS="OptionText2">Writes the functions in the order they appear to be called, as inferred from the static link information. Thus, if function A calls B and C, and B calls D, the functions are written in the order A B D C. Though not guaranteed, <FONT FACE="courier">-codeorder staticcall</FONT> may improve locality of reference and yield a minor performance improvement.</P><P CLASS="Option2">reference</P><P CLASS="OptionText2">Writes the functions in the order they appear during a graph traversal. Thus, if function A calls B and C, and B calls D, the functions are written in the order A B C D.</P><P CLASS="Option2"><B>segment</B></P><P CLASS="OptionText2">Groups the functions into &quot;segments&quot; as specified by the <FONT FACE="courier">.segment</FONT> sections of the input files. Within each &quot;segment&quot; the functions are written in the order in which they appear in the input files on the command file. This is the default. </P><P CLASS="Option2">file=<I>filename</I></P><P CLASS="OptionText2">Writes the functions in the order specified by the text file <I>filename</I>. You can write this file yourself or generate one using the <FONT FACE="courier">MrPlus</FONT> tool. The file should contain one function name per line. If a function has local scope, its name must be followed by a space or tab and then the name of the XCOFF file that contains the function. Note that the mangled function names must be used for C++ functions. Lines beginning with "<FONT FACE="courier">#</FONT>" or "<FONT FACE="courier">*</FONT>" are treated as comments. </P><P CLASS="Option1">-codestart <I>address</I></P><P CLASS="OptionText1">Sets the base address of the <FONT FACE="courier">.text/Code</FONT> section to <I>address</I>.</P><P CLASS="Option1">-d</P><P CLASS="OptionText1">Suppresses warning messages for duplicate symbol definitions.</P><P CLASS="Option1">-datastart <I>address</I></P><P CLASS="OptionText1">Sets the base address of the data section to <I>address</I>.</P><P CLASS="Option1"><P CLASS="Option1">-dead on | off</P><P CLASS="OptionText1">Specifies whether unused code and data is excluded from the output file.</P><P CLASS="Option2">on</P><P CLASS="OptionText2">Excludes unused code and data. </P><P CLASS="Option2">off</P><P CLASS="OptionText2">Includes unused code and data. </P><P CLASS="OptionText1">The default setting for this option depends on the setting of the <FONT FACE="courier">-xm</FONT> option as follows:</P><P CLASS="OptionText1"><FONT FACE="courier">&#149; </FONT><FONT FACE="courier">on</FONT> if <FONT FACE="courier">-xm executable</FONT>, <FONT FACE="courier">-xm sharedlibrary</FONT>, or <FONT FACE="courier">-xm dropin</FONT></P><P CLASS="OptionText1"><FONT FACE="courier">&#149; </FONT><FONT FACE="courier">off</FONT> if <FONT FACE="courier">-xm library</FONT></P><P CLASS="Option1">-@export <I>filename</I></P><P CLASS="OptionText1">Specifies a text file that contains a list of symbols to be exported from the output file. The file should contain one symbol name per line. Lines beginning with "<FONT FACE="courier">#</FONT>" or "<FONT FACE="courier">*</FONT>" are treated as comments. Only global data modules, global code modules and imported symbols may be exported. Exported symbols are forced active and therefore will not be dead-stripped if they are not referenced. C++ users must specify the mangled symbol names in the file.</P><P CLASS="Option1">-export <I>name</I>[,<I>name</I>]&#133;</P><P CLASS="OptionText1">Exports the specified symbols--that is, makes the symbols visible to other fragments. This option applies only to executable programs and shared libraries; you cannot export a symbol from a static library. Only global data modules, global code modules and imported symbols may be exported. Exported symbols are forced active and therefore will not be dead-stripped if they are not referenced. C++ users must specify the mangled symbol names.</P><P CLASS="Option1">-exportglue <B>on</B> | off</P><P CLASS="OptionText1">Specifies whether glue code should be generated for calls to exported routines. Note that if a routine is marked as both exported and imported, calls to the routine will always go through glue code regardless of the setting of this option.</P><P CLASS="Option2"><B>on</B></P><P CLASS="OptionText2">Generates glue code for calls to exported routines. If a branch to an exported routine is followed by a TOC reload slot (a <FONT FACE="courier">NOP</FONT> instruction), the branch will go through the glue code. Otherwise, the branch will go directly to the exported routine. Note that all generated glue code is written to the output file even if the glue code is not used.</P><P CLASS="Option2">off</P><P CLASS="OptionText2">Does not generate glue code for calls to exported routines. All calls to exported routines become direct branches even if the call site is followed by a TOC reload slot (a <FONT FACE="courier">NOP</FONT> instruction). This option can result in smaller and faster code, however, exported routines will not be patchable.</P><P CLASS="Option1">-@filelist <I>filename</I></P><P CLASS="OptionText1">Links the files listed in the specified text file. The text file should contain one filename per line. This option can be used instead of, or in addition to, specifying input files on the command line.</P><P CLASS="Option1">-fragname <I>fragName</I></P><P CLASS="OptionText1">Sets the PEF container's fragment name to the specified name. The default is to use the name of the output file minus any directory information. For example, if you are creating a shared library named <FONT FACE="courier">MySharedLib</FONT>, but the output file is named <FONT FACE="courier">MySharedLib.ppc</FONT>, you would specify <FONT FACE="courier">-fragname MySharedLib</FONT> to ensure that the library's fragment name is set correctly. </P><P CLASS="Option1">-h[elp]</P><P CLASS="OptionText1">Displays a brief summary of PPCLink options. This option overrides all other options.</P><P CLASS="Option1">-@ignoredups <I>filename</I></P><P CLASS="OptionText1">Suppresses "duplicate symbol definition" warnings for the symbols listed in the specified text file. The file should contain one symbol name per line. Lines beginning with "<FONT FACE="courier">#</FONT>" or "<FONT FACE="courier">*</FONT>" are treated as comments. C++ users must specify the mangled symbol names in the file.</P><P CLASS="Option1">-ignoredups <I>name</I>[,<I>name</I>]&#133;</P><P CLASS="OptionText1">Suppresses "duplicate symbol definition" warnings for the specified symbols. C++ users must specify the mangled symbol names.</P><P CLASS="Option1">-init <B>default</B> | none | <I>initEntry</I></P><P CLASS="OptionText1">Specifies the initialization entry point of the output file.</P><P CLASS="Option2"><B>default</B></P><P CLASS="OptionText2">Sets the initialization entry point to the default initialization routine, if the routine is defined in any of the files being linked. The default initialization routine is <FONT FACE="courier">__init_app</FONT>for executables and <FONT FACE="courier">__init_lib</FONT> for shared libraries. If the default routine does not exist, the initialization entry point is set to NULL.</P><P CLASS="Option2">none</P><P CLASS="OptionText2">Sets the initialization entry point to NULL.</P><P CLASS="Option2"><I>initEntry</I></P><P CLASS="OptionText2">Sets the initialization entry point to the specified routine.</P><P CLASS="Option1">-initbefore <I>fragName</I>[,<I>fragName</I>]&#133;</P><P CLASS="OptionText1">Tells the Code Fragment Manager to initialize the specified import libraries before other import libraries. Use this option only when the initialization of an import library depends on the prior initialization of another import library. By default, the Code Fragment Manager initializes an import library before the client importing it. This rule is applied recursively. For mutually dependent import libraries, the Code Fragment Manager arbitrarily initializes one of the import libraries first. You can use this option to indicate which library should be initialized first. </P><P CLASS="OptionText1">Be sure to specify the library's fragment name--that is, the name that appears in the library's <FONT FACE="courier">'crfg'</FONT> resource--and not the name of the file containing the library. </P><P CLASS="Option1">-librename <I>old</I>=<I>new</I></P><P CLASS="OptionText1">Replaces the name of the specified import library with a new name.</P><P CLASS="Option1">-linkfaster <B>on</B> | off</P><P CLASS="OptionText1">By default, PPCLink keeps object files in memory in purgeable handles. This minimizes I/O time and improves performance.  However, if linking fails because the linker ran out of memory, you should use the <FONT FACE="courier">-linkfaster off</FONT> option.</P><P CLASS="Option1">-m[ain] <I>entryPoint</I></P><P CLASS="OptionText1">Specifies the name of a fragment's main entry point. The default main entry point for executables is <FONT FACE="courier">__start</FONT> which is defined in the <FONT FACE="courier">StdCRuntime.o</FONT> library. There is no default main entry point for shared libraries.</P><P CLASS="Option1">-map <I>filename</I></P><P CLASS="OptionText1">Generates a link map and places it in the specified file. </P><P CLASS="Option1">-<B>mf</B> | -nomf</P><P CLASS="OptionText1">Enables or suppresses the use of Process Manager temporary memory. </P><P CLASS="OptionText1">Note that the PPCLink tool's use of Process Manager temporary memory excludes other applications from using it, including the Finder. If Process Manager temporary memory is unavailable, this option has no effect.</P><P CLASS="OptionNote1"><B>WARNING</B><BR>If PPCLink aborts abnormally, that is, there is a crash or a nonmaskable interrupt (NMI), much of the Process Manager temporary memory might be left permanently allocated, thus potentially crippling launches and Finder copy operations. The only way to recover from this situation is to restart the computer. &#149;</P><P CLASS="Option1">-o <I>filename</I></P><P CLASS="OptionText1">Specifies the name of the output file. If you do not specify this option, the linker places its output in a file named <FONT FACE="courier">PPCLink.out</FONT>.</P><P CLASS="Option1">-outputformat <B>default</B> | pef | xcoff</P><P CLASS="OptionText1">Specifies the format of the output file.</P><P CLASS="Option2"><B>default</B></P><P CLASS="OptionText2">Uses the default format for the type of file specified by the <FONT FACE="courier">-xm</FONT> option.</P><P CLASS="OptionText2"><FONT FACE="courier">&#149;</FONT> <FONT FACE="courier">pef</FONT> if <FONT FACE="courier">-xm executable</FONT>, <FONT FACE="courier">-xm sharedlibrary</FONT>, or <FONT FACE="courier">-xm dropin</FONT></P><P CLASS="OptionText2"><FONT FACE="courier">&#149; </FONT><FONT FACE="courier">xcoff</FONT> if <FONT FACE="courier">-xm library</FONT></P><P CLASS="Option2">pef</P><P CLASS="OptionText2">Uses the Preferred Executable Format.</P><P CLASS="Option2">xcoff</P><P CLASS="OptionText2">Uses the Extended Common Object File Format.</P><P CLASS="OptionText1">Executable programs and shared libraries can use either the XCOFF or PEF format, but static libraries can use only the XCOFF format.</P><P CLASS="Option1">-p</P><P CLASS="OptionText1">Writes progress and summary information to diagnostic output.</P><P CLASS="Option1">-packdata <B>on</B> | off</P><P CLASS="OptionText1">Specifies whether to compress the PEF container's data section. </P><P CLASS="Option2"><B>on</B></P><P CLASS="OptionText2">Compresses the data section.</P><P CLASS="Option2">off</P><P CLASS="OptionText2">Does not compress the data section.</P><P CLASS="Option1">-profile on | <B>off</B> | exclude=<I>name</I>[,<I>name</I>]&#133;]</P><P CLASS="OptionText1">Specifies whether special monitoring routines should be added to the generated application or shared library in order to enable the collection of profiling and performance information at runtime. When the program is executed, the monitoring routines collect information and write it to the file <FONT FACE="courier">Profiler.pgh</FONT>.The <FONT FACE="courier">PPCProff</FONT> tool can then be used to analyze and display this information.</P><P CLASS="Option2">on</P><P CLASS="OptionText2">Enables the collection of profiling and performance information at runtime. This option requires linking to the <FONT FACE="courier">PPCProffLib.o</FONT> and <FONT FACE="courier">PPCProffLib</FONT> libraries. <FONT FACE="courier">PPCProffLib</FONT> must also be available at runtime.</P><P CLASS="Option2"><B>off</B></P><P CLASS="OptionText2">Disables profiling. This is the default. </P><P CLASS="Option2">exclude=<I>name</I>[,<I>name</I>]&#133;</P><P CLASS="OptionText2">Enables the collection of profiling and performance information at runtime but excludes the specified routines. This option requires linking to the <FONT FACE="courier">PPCProffLib.o</FONT> and <FONT FACE="courier">PPCProffLib</FONT> libraries. <FONT FACE="courier">PPCProffLib</FONT> must also be available at runtime..</P><P CLASS="Option1">-rodatais <B>data</B> | code | constant</P><P CLASS="OptionText1">Specifies which section in the output file should contain read-only data. This option can override, or be overridden by, the <FONT FACE="courier">-roistext</FONT> option.</P><P CLASS="Option2"><B>data</B></P><P CLASS="OptionText2">The read-only data is placed in the PEF Data (or XCOFF <FONT FACE="courier">.data</FONT>) section.</P><P CLASS="Option2">code</P><P CLASS="OptionText2">The read-only data is placed in the PEF Code (or XCOFF <FONT FACE="courier">.text</FONT>) section.</P><P CLASS="Option2">constant</P><P CLASS="OptionText2">The read-only data is placed in the PEF Constant section. This option is only valid when using the PEF output format.</P><P CLASS="Option1">-roistext on | <B>off</B></P><P CLASS="OptionText1">Specifies whether to place read-only data in the <FONT FACE="courier">.text</FONT> (Code) or <FONT FACE="courier">.data</FONT> (Data) section. </P><P CLASS="Option2">on</P><P CLASS="OptionText2">Places read-only data in the <FONT FACE="courier">.text/</FONT>Code section.</P><P CLASS="Option2"><B>off</B></P><P CLASS="OptionText2">Places read-only data in the <FONT FACE="courier">.data/</FONT>Data section.</P><P CLASS="OptionText1">The default is <FONT FACE="courier">off</FONT> because the <FONT FACE="courier">.text/</FONT>Code section is not write-protected at runtime.</P><P CLASS="OptionText1">If you use this option, turn on virtual memory when you test your application to determine if you are writing to read-only data.</P><P CLASS="Option1">-sg <I>newSeg</I>=<I>oldSeg</I>[,<I>oldSeg</I>]&#133;</P><P CLASS="OptionText1">Changes segmentation so that the code in the old segments (<I>oldSeg</I>,<I>oldSeg</I>&#133;) is placed in the segment <I>newSeg</I>. </P><P CLASS="Option1">-share <B>context</B> | global | protected</P><P CLASS="OptionText1">Specifies the sharing mode for the PEF container's data section as follows:</P><P CLASS="Option2"><B>context</B></P><P CLASS="OptionText2">Shared within a context.</P><P CLASS="Option2">global</P><P CLASS="OptionText2">Shared across all contexts.</P><P CLASS="Option2">protected</P><P CLASS="OptionText2">Readable by all contexts; writable by only privileged contexts.</P><P CLASS="Option1">-sym on | <B>off</B> | big</P><P CLASS="OptionText1">Specifies whether to copy symbolic information from the object files to an XCOFF file (for <FONT FACE="courier">-outputformat pef</FONT>) or to the output file (for <FONT FACE="courier">-outputformat xcoff</FONT>). </P><P CLASS="Option2">on</P><P CLASS="OptionText2">Copies the symbolic information. </P><P CLASS="Option2"><B>off</B></P><P CLASS="OptionText2">Does not copy the symbolic information. </P><P CLASS="Option2">big</P><P CLASS="OptionText2">Copies the symbolic information but does not condense it. Use this option if attempting to link with <FONT FACE="courier">-sym on</FONT> results in error messages that say you are out of memory. If your fragment takes a long time to link when using <FONT FACE="courier">-sym on</FONT>, using <FONT FACE="courier">-sym big</FONT> instead might help the link process go faster. Using <FONT FACE="courier">-sym big</FONT> results in a much larger XCOFF file than <FONT FACE="courier">-sym on</FONT>.</P><P CLASS="Option1">-t <I>type</I></P><P CLASS="OptionText1">Sets the output file type to <I>type</I>.The default type depends on the settings of the <FONT FACE="courier">-outputformat</FONT> and <FONT FACE="courier">-xm</FONT> options, as follows:</P><P CLASS="OptionText1"><FONT FACE="courier">&#149; </FONT><FONT FACE="courier">'XCOF'</FONT> if <FONT FACE="courier">-outputformat xcoff</FONT></P><P CLASS="OptionText1"><FONT FACE="courier">&#149; </FONT><FONT FACE="courier">'APPL'</FONT> if <FONT FACE="courier">-outputformat pef</FONT> and <FONT FACE="courier">-xm executable</FONT></P><P CLASS="OptionText1"><FONT FACE="courier">&#149; </FONT><FONT FACE="courier">'shlb'</FONT> if <FONT FACE="courier">-outputformat pef</FONT> and <FONT FACE="courier">-xm sharedlibrary</FONT></P><P CLASS="OptionText1"><FONT FACE="courier">&#149; </FONT><FONT FACE="courier">'????'</FONT> if <FONT FACE="courier">-outputformat pef</FONT> and <FONT FACE="courier">-xm dropin</FONT></P><P CLASS="Option1">-term <B>default</B> | none | <I>termEntry</I></P><P CLASS="OptionText1">Specifies the termination entry point of the output file.</P><P CLASS="Option2"><B>default</B></P><P CLASS="OptionText2">Sets the termination entry point to the default termination routine, if the routine is defined in any of the files being linked. The default termination routine is <FONT FACE="courier">__term_app</FONT>for executables and <FONT FACE="courier">__term_lib</FONT> for shared libraries. If the default routine does not exist, the termination entry point is set to NULL.</P><P CLASS="Option2">none</P><P CLASS="OptionText2">Sets the termination entry point to NULL.</P><P CLASS="Option2"><I>termEntry</I></P><P CLASS="OptionText2">Sets the termination entry point to the specified routine.</P><P CLASS="Option1">-tocdataref <B>on</B> | off </P><P CLASS="OptionText1">Controls the optimization of runtime calculations of data addresses.</P><P CLASS="Option2"><B>on</B></P><P CLASS="OptionText2">Optimizes the runtime calculations of data addresses by replacing memory references with address calculations when the TOC entry being loaded is the address of a variable within 32 KB of the TOC anchor. This option replaces this line of code</P><P CLASS="OptionCode2">1wz Rx,xxx{TC}(RTOC) ; get pointer to data</P><P CLASS="OptionText2">with </P><P CLASS="OptionCode2">addi Rx,RTOC,yyy ; compute address of data</P><P CLASS="OptionText2">when the contents of <FONT FACE="courier">xxx{TC}</FONT> is the address of a data item located <FONT FACE="courier">yyy</FONT> bytes from the TOC anchor.</P><P CLASS="OptionText2">This optimization improves the performance of the linked application or shared library by avoiding a memory reference at runtime.</P><P CLASS="Option2">off</P><P CLASS="OptionText2">Does not optimize the runtime calculations of data addresses.</P><P CLASS="Option1">-uf <I>filename</I></P><P CLASS="OptionText1">Writes a list of unreferenced symbols to the specified text file. </P><P CLASS="Option1">-unmangle <B>on</B> | off</P><P CLASS="OptionText1">Specifies whether C++ symbol names used in warnings, error messages, and the link map will be mangled or unmangled. </P><P CLASS="Option2"><B>on</B></P><P CLASS="OptionText2">Unmangles the names. </P><P CLASS="Option2">off</P><P CLASS="OptionText2">Leaves the names mangled. </P><P CLASS="Option1">-v</P><P CLASS="OptionText1">Writes verbose progress information to diagnostic output. Specifying this option also implies <FONT FACE="courier">-p</FONT>.</P><P CLASS="Option1">-vercur <I>n</I></P><P CLASS="OptionText1">Sets the PEF container &quot;current version&quot; to the specified version number. The default version number is 0. The &quot;current version&quot; is also stored in the container's <FONT FACE="courier">'crfg'</FONT> resource. </P><P CLASS="Option1">-verdef <I>n</I></P><P CLASS="OptionText1">Sets the PEF container &quot;definition version&quot; to the specified version number. The default version number is 0. The &quot;definition version&quot; is also stored in the container's <FONT FACE="courier">'crfg'</FONT> resource. </P><P CLASS="Option1">-verimp <I>n</I></P><P CLASS="OptionText1">Sets the PEF container &quot;implementation version&quot; to the specified version number. The default version number is 0. </P><P CLASS="Option1">-w[arn]</P><P CLASS="OptionText1">Suppresses the display of warning messages.</P><P CLASS="Option1">-@weak <I>filename</I></P><P CLASS="OptionText1">Specifies a text file that contains a list of imported symbols that should be marked "weak". The file should contain one import name per line. Lines beginning with <FONT FACE="courier">"#"</FONT> or <FONT FACE="courier">"*"</FONT> are treated as comments. Note that if all of the symbols imported from an import library are marked as "weak," the import library itself is also marked as "weak."</P><P CLASS="OptionText1">C++ users must specify the mangled symbol names in the file.</P><P CLASS="Option1">-weak <I>name</I>[,<I>name</I>]&#133;</P><P CLASS="OptionText1">Marks the specified imported symbols as ones that are not required to exist in any of the client's import libraries at runtime. The client must first check for the existence of the imports before using them. Note that if all of the symbols imported from an import library are marked as "weak," theimport library itself is also marked as "weak."</P><P CLASS="OptionText1">C++ users must specify the mangled symbol names when using this option.</P><P CLASS="Option1">-weaklib <I>fragName</I>[,<I>fragName</I>]&#133;</P><P CLASS="OptionText1">Marks the specified import libraries as ones that are not required to exist at runtime. If the specified library is not found when the program is loaded, all symbols imported from the library have their addresses set to 0. The client must first check for the existence of the imports before using them. Note that when an import library is marked as "weak," allof the symbols imported from the library are also marked as "weak."</P><P CLASS="OptionText1">When using this option, you must specify the import library's fragment name,not the name of the file containing the library. The fragment name is the namethat appears in the library's <FONT FACE="courier">'cfrg'</FONT> resource. </P><P CLASS="Option1">-xm <B>e</B>[<B>xecutable</B>] | l[ibrary] | s[haredlibrary] | d[ropin]</P><P CLASS="OptionText1">Controls whether PPCLink generates an application, a static library, a shared library, or a drop-in addition.</P><P CLASS="Option2"><B>e</B>[<B>xecutable</B>]</P><P CLASS="OptionText2">Generates an application.</P><P CLASS="Option2">l[ibrary] </P><P CLASS="OptionText2">Generates a static library.</P><P CLASS="Option2">s[haredlibrary]</P><P CLASS="OptionText2">Generates a shared library. </P><P CLASS="Option2">d[ropin]</P><P CLASS="OptionText2">Generates a drop-in addition. Drop-in additions are generated like shared libraries except thatthe fragment's "usage" type is set to <FONT FACE="courier">kDropInAdditionCFrag</FONT> instead of <FONT FACE="courier">kImportLibraryCFrag</FONT> andthe default file type is <FONT FACE="courier">'????'</FONT> instead of <FONT FACE="courier">'shlb'</FONT>.</P><P CLASS="SectionHd">SEE ALSO</P><P CLASS="Text1"><FONT FACE="courier"><A HREF="ilink.html">ILink</A></FONT></P><P CLASS="Text1"><FONT FACE="courier"><A HREF="link.html">Link</A></FONT></P><P CLASS="Text1"><FONT FACE="courier"><A HREF="ppcproff.html">PPCProff</A></FONT></P><P CLASS="Text1">&nbsp;<BR>&nbsp;</P><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="ppcasm.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="ppcproff.html">Next</A></P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="600">		<P CLASS="Copyright">Copyright Apple Computer, Inc. 1993-2001</P>		<P CLASS="Date">Last Updated June 2001</P>		</TD>	</TR></TABLE></TD></TR></TABLE><!--#include virtual="/footer" --></BODY></HTML>