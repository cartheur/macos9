<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><LINK REL="STYLESHEET" HREF="cmdref.css" CHARSET="ISO-8859-1" TYPE="text/css"><TITLE>MakeStub</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!--#include file="breadcrumb" --><!--#include virtual="/adcnavbar" --><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD><TABLE WIDTH="600" BGCOLOR="0" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD><P CLASS="BookTitle">MPW Command Reference</P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="makeppccodersrc.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="makesym.html">Next</A></P></TD>	</TR></TABLE><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="475"><P CLASS="PageHdL">MakeStub</P></TD>		<TD WIDTH="125"><P CLASS="PageHdR">Tool</P></TD>	</TR></TABLE><P CLASS="SectionHd">SYNTAX</P><P CLASS="Syntax">MakeStub <I>file1</I> [<I>file2</I>]&#133; [-arch fat | m68k | <B>pwpc</B>] [-c <I>creator</I>] [-d]<BR>[-fragname <I>name</I>] [-mf | <B>-nomf</B>] [-o <I>outputFile</I>] [-p] [-t <I>type</I>]<BR>[-vercur <I>number</I>] [-verdef <I>number</I>] [-verimp <I>number</I>] [-w[arn]]<BR>[-weakstub on | <B>off</B>]</P><P CLASS="SectionHd">DESCRIPTION</P><P CLASS="Text1">MakeStub creates a PowerPC, CFM-68K or "fat" stub library. A stub library is an import library that exports symbols but does not contain any code. Stub libraries are used when linking PowerPC and CFM-68K runtime applications and shared libraries.</P><P CLASS="SectionHd">INPUT</P><P CLASS="Text1">One or more text files containing the names of symbols to be exported from the stub library. The file(s) should contain one symbol name per line. Lines beginning with <FONT FACE="courier">'#'</FONT> or <FONT FACE="courier">'*'</FONT> are treated as comment lines. Comment lines of the form <FONT FACE="courier">"#{code}"</FONT> and <FONT FACE="courier">"#{data}"</FONT> are used to indicate whether the symbol names that follow the comment line are code exports or data exports. By default, symbol names are treated as code exports.</P><P CLASS="Note"><B>Note</B><BR>C++ users must specify the mangled symbol names in the file.&#149;</P><P CLASS="SectionHd">OUTPUT</P><P CLASS="Text1">A PowerPC, CFM-68K or "fat" stub library. The default output file name is <FONT FACE="courier">MakeStub.out</FONT>. You can rename the output file by using the <FONT FACE="courier">-o</FONT> option.</P><P CLASS="SectionHd">STATUS</P><P CLASS="Text1">MakeStub can return the following status codes:<BR><BR></P><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">0</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">no errors</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">1</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">fatal error</P></TD></TR></TABLE><P CLASS="SectionHd">PARAMETERS</P><P CLASS="Option1"><I>file1</I> [<I>file2</I>]&#133;</P><P CLASS="OptionText1">Specifies one or more text files containing the names of symbols to be exported from the stub library.</P><P CLASS="SectionHd">OPTIONS</P><P CLASS="Option1">-arch fat | m68k | <B>pwpc</B></P><P CLASS="OptionText1">Controls whether MakeStub generates a PowerPC, CFM-68K or "fat" stub library.</P><P CLASS="Option2">fat</P><P CLASS="OptionText2">Generates a "fat" stub library.</P><P CLASS="Option2">m68k</P><P CLASS="OptionText2">Generates a CFM-68K stub library.</P><P CLASS="Option2"><B>pwpc</B></P><P CLASS="OptionText2">Generates a PowerPC  stub library.</P><P CLASS="Option1">-c <I>creator</I></P><P CLASS="OptionText1">Sets the output file creator to <I>creator</I>. The default creator is <FONT FACE="courier">'MPS '</FONT>.</P><P CLASS="Option1">-d</P><P CLASS="OptionText1">Suppresses warning messages for duplicate symbols.</P><P CLASS="Option1">-fragname <I>name</I></P><P CLASS="OptionText1">Sets the fragment name to the specified name. The default is to use the name of the output file minus any directory information. The fragment name is stored in the stub library's <FONT FACE="courier">'cfrg'</FONT> resource.</P><P CLASS="Option1">-mf | <B>-nomf</B></P><P CLASS="OptionText1">Enables or suppresses the use of Process Manager temporary memory. </P><P CLASS="OptionNote1"><B>WARNING</B><BR>If MakeStub aborts abnormally, that is, there is a crash or a nonmaskable interrupt (NMI), much of the Process Manager temporary memory might be left permanently allocated, thus potentially crippling launches and Finder copy operations. The only way to recover from this situation is to restart the computer. &#149;</P><P CLASS="Option1">-o <I>outputFile</I></P><P CLASS="OptionText1">Specifies the name of the output file. The default output file name is <FONT FACE="courier">MakeStub.out</FONT>.</P><P CLASS="Option1">-p</P><P CLASS="OptionText1">Writes progress and summary information to diagnostic output.</P><P CLASS="Option1">-t <I>type</I></P><P CLASS="OptionText1">Sets the output file type to <I>type</I>. The default type is <FONT FACE="courier">'stub'</FONT>.</P><P CLASS="Option1">-vercur <I>number</I></P><P CLASS="OptionText1">Sets the library's "current version" to the specified version number. The default version number is 0. The "current version" is stored in the stub library's PEF container as well as in the <FONT FACE="courier">'cfrg'</FONT> resource.</P><P CLASS="Option1">-verdef <I>number</I></P><P CLASS="OptionText1">Sets the library's "definition version" to the specified version number. The default version number is 0. The "definition version" is stored in the stub library's PEF container as well as in the <FONT FACE="courier">'cfrg'</FONT> resource.</P><P CLASS="Option1">-verimp <I>number</I></P><P CLASS="OptionText1">Sets the library's "implementation  version" to the specified version number. The default version number is 0. The "implementation  version" is stored in the stub library's PEF container.</P><P CLASS="Option1">-w[arn]</P><P CLASS="OptionText1">Suppresses the display of warning messages.</P><P CLASS="Option1">-weakstub on | <B>off</B></P><P CLASS="OptionText1">Specifies whether the library's "usage" type should be set to <FONT FACE="courier">kStubLibraryCFrag</FONT> (0x03) or <FONT FACE="courier">kWeakStubLibraryCFrag</FONT> (0x04).</P><P CLASS="Option2">on</P><P CLASS="OptionText2">Sets the library's "usage" type to <FONT FACE="courier">kWeakStubLibraryCFrag</FONT> (0x04).</P><P CLASS="Option2"><B>off</B></P><P CLASS="OptionText2">Sets the library's "usage" type to <FONT FACE="courier">kStubLibraryCFrag</FONT> (0x03).</P><P CLASS="SectionHd">SEE ALSO</P><P CLASS="Text1"><FONT FACE="courier"><A HREF="shlb2stub.html">shlb2stub</A></FONT></P><P CLASS="Text1">&nbsp;<BR>&nbsp;</P><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="makeppccodersrc.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="makesym.html">Next</A></P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="600">		<P CLASS="Copyright">Copyright Apple Computer, Inc. 1993-2000</P>		<P CLASS="Date">Last Updated July 2000</P>		</TD>	</TR></TABLE></TD></TR></TABLE><!--#include virtual="/footer" --></BODY></HTML>