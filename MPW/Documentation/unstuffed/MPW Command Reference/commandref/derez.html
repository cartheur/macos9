<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><LINK REL="STYLESHEET" HREF="cmdref.css" CHARSET="ISO-8859-1" TYPE="text/css"><TITLE>DeRez </TITLE></HEAD><BODY BGCOLOR="#ffffff"><!--#include file="breadcrumb" --><!--#include virtual="/adcnavbar" --><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD><TABLE WIDTH="600" BGCOLOR="0" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD><P CLASS="BookTitle">MPW Command Reference</P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="deleterevisions.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="directory.html">Next</A></P></TD>	</TR></TABLE><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="475"><P CLASS="PageHdL">DeRez</P></TD>		<TD WIDTH="125"><P CLASS="PageHdR">Tool</P></TD>	</TR></TABLE><P CLASS="SectionHd">SYNTAX</P><P CLASS="Syntax">DeRez <I>resourceFile</I> [<I>typeDeclarationFile1</I> [<I>typeDeclarationFile2</I>]&#133;]<BR>[-c[ompatible]] [-d[efine] <I>macro</I>[=<I>data</I>]] [-e[scape]] [-i <I>directoryPath</I>]<BR> [-m[axstringsize] <I>n</I>] [-noResolve] <BR>[-only <I>typeExpr</I>[(<I>idExpr1</I>[:<I>idExpr2</I>] | <I>resourceName</I>)]] [-only <I>type</I>] [-p]<BR> [-rd] [-script Roman | Japanese | Korean | SimpChinese | TradChinese]<BR>[-s[kip] <I>typeExpr</I>[(<I>idExpr1</I>[:<I>idExpr2</I>] | <I>resourceName</I>)]] [-s[kip] <I>type</I>]<BR> [-u[ndef] <I>macro</I>] </P><P CLASS="SectionHd">DESCRIPTION</P><P CLASS="Text1">The DeRez tool decompiles the resource fork of <I>resourceFile</I> according to the type declarations supplied by the type declaration files. The resource description produced by this decompilation contains the resource definitions (<FONT FACE="courier">resource</FONT> and <FONT FACE="courier">data</FONT> statements) associated with these type declarations. If for some reason it cannot reproduce the appropriate <FONT FACE="courier">resource</FONT> statements, DeRez generates hexadecimal data statements instead.</P><P CLASS="Text1">A <I>type declaration file</I> is a file of type declarations used by the resource compiler, Rez.The type declarations for the standard Macintosh resources are contained in the <FONT FACE="courier">Types.r</FONT> and<FONT FACE="courier"> SysTypes.r</FONT> files, contained in the <FONT FACE="courier">{RIncludes}</FONT> folder. If you do not specify any type declaration files, DeRez produces data statements in hexadecimal form.</P><P CLASS="Text1">This same process works backward to recompile the resource fork. If you use the output of DeRez and the appropriate type declaration files as input to Rez, it produces the original resource fork of <I>resourceFile</I>. </P><P CLASS="SectionHd">INPUT</P><P CLASS="Text1">An input file containing resources in its resource fork. DeRez does not read standard input. You can also specify resource description files containing type declarations. For each type declaration file on the command line, DeRez applies the following search rules:</P><P CLASS="Text1">1. DeRez tries to open the file with the name specified as is.</P><P CLASS="Text1">2. If rule 1 fails and the filename contains no colons or begins with a colon, DeRez appends the filename to each of the pathnames specified by the <FONT FACE="courier">{RIncludes}</FONT> variable and tries to open the file.</P><P CLASS="SectionHd">OUTPUT</P><P CLASS="Text1">Standard output. DeRez writes a resource description to standard output consisting of <FONT FACE="courier">resource</FONT> and <FONT FACE="courier">data</FONT> statements that can be understood by Rez. If you omit the <FONT FACE="courier"><I>typeDeclarationFile1</I> [<I>typeDeclarationFile2</I>]&#133;</FONT> parameter, DeRez generates hexadecimal data statements instead.</P><P CLASS="Text1">Errors and warnings are written to diagnostic output.</P><P CLASS="SectionHd">ALIAS RESOLUTION</P><P CLASS="Text1">This command resolves Finder aliases on all input file specifications. Finder aliases are also resolved in the pathnames of any files included by specified resource definition files. You can optionally suppress the resolution of leaf aliases for the input resource file (with the <FONT FACE="courier">-noResolve</FONT> option).</P><P CLASS="SectionHd">STATUS</P><P CLASS="Text1">DeRez can return the following status codes:<BR><BR></P><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">0</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">no errors</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">1</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">error in parameters</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">2</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">syntax error in resourceFile</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">3</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">I/O or program error</P></TD></TR></TABLE><P CLASS="SectionHd">PARAMETERS</P><P CLASS="Option1"><I>resourceFile</I></P><P CLASS="OptionText1">Specifies a file containing the resource fork to be decompiled.</P><P CLASS="Option1"><I>typeDeclarationFile1</I> [<I>typeDeclarationFile2</I>]&#133;</P><P CLASS="OptionText1">Specifies one or more files containing type declarations. These type declarations are the templates associated with the information in the resource description. In addition to using those in the <FONT FACE="courier">{RIncludes}</FONT> folder, you can also specify your own type declaration files. </P><P CLASS="OptionNote1"><B>Note</B><BR>The DeRez tool ignores any <FONT FACE="courier">include</FONT> (but not <FONT FACE="courier">#include</FONT>), <FONT FACE="courier">read</FONT>, <FONT FACE="courier">data</FONT>, <FONT FACE="courier">change</FONT>, <FONT FACE="courier">delete</FONT>, and <FONT FACE="courier">resource</FONT> statements found in these files. However, it still checks these statements for correct syntax. &#149;</P><P CLASS="SectionHd">OPTIONS</P><P CLASS="Option1">-c[ompatible]</P><P CLASS="OptionText1">Generates output that is backward-compatible with <FONT FACE="courier">Rez</FONT> 1.0.</P><P CLASS="Option1">-d[efine] <I>macro</I>[=<I>data</I>] </P><P CLASS="OptionText1">Defines the macro variable <I>macro</I> as having the value <I>data</I>. You can use this option more than once on a command line.</P><P CLASS="Option2"><I>macro</I></P><P CLASS="OptionText2">Specifies the macro variable to be defined. </P><P CLASS="Option2"><I>data</I></P><P CLASS="OptionText2">Specifies the value of <I>macro</I>. This is the same as writing</P><P CLASS="OptionCode2"><FONT FACE="courier">#define</FONT> <I>macro</I> [<I>data</I>] </P><P CLASS="OptionText2">at the beginning of the resource file.</P><P CLASS="OptionText2">If you do not specify <I>data</I>, DeRez sets the value of <I>data</I> to the null string. Note that this still defines the macro.</P><P CLASS="Option1">-e[scape]</P><P CLASS="OptionText1">Prints characters that are normally escaped, such as <FONT FACE="courier">\0xff</FONT>, as extended Macintosh characters. By default, characters with values between $20 and $FF are printed as Macintosh characters. With this option, however, DeRez prints all characters (except null, newline, tab, backspace, form feed, vertical tab, and rubout) as characters, not as escape sequences.</P><P CLASS="OptionNote1"><B>Note</B><BR>Not all fonts have all the characters defined. &#149;</P><P CLASS="Option1">-i <I>directoryPath</I></P><P CLASS="OptionText1">Specifies the directory to search for <FONT FACE="courier">#include</FONT> files. You may specify this option more than once. Directory paths are searched in the order in which they appear on the command line. </P><P CLASS="Option1">-m[axstringsize] <I>n</I></P><P CLASS="OptionText1">Sets the maximum output string width to <I>n</I>, where <I>n</I> must be in the range 2-120. </P><P CLASS="Option1">-noResolve</P><P CLASS="OptionText1">Suppresses leaf alias resolution of the file or pathname for the input resource file thus allowing the resource fork of a Finder alias file to be decompiled. Finder aliases are still resolved on all resource definition file paths and on any files they may include.</P><P CLASS="Option1">-only <I>typeExpr</I>[(<I>idExpr1</I>[:<I>idExpr2</I>] | <I>resourceName</I>)]</P><P CLASS="OptionText1">Reads only resources of the type indicated by <I>typeExpr</I>. An ID (<I>idExpr1</I>), range of IDs (<I>idExpr1</I>:<I>idExpr2</I>), or resource name can also be supplied to further specify which resources to read. If you provide this additional information, DeRez reads only the specified resources. </P><P CLASS="OptionText1">This option can be repeated multiple times. Note that this option cannot be specified in conjunction with the <FONT FACE="courier">-skip</FONT> option.</P><P CLASS="OptionNote1"><B>Note</B><BR>The <I>typeExpr</I> parameter is an expression and must be enclosed in single quotation marks. If you also specify an ID, range of IDs, or resource name, you must place double quotation marks around the entire option parameter, as in these examples:</P><P CLASS="OptionCode1">-only &quot;'MENU' (1:128)&quot; <BR>-only &quot;'MENU' (&#8706;&quot;MyMenu&#8706;&quot;)&quot;</P><P CLASS="Option1">-only <I>type</I></P><P CLASS="OptionText1">Reads only resources of the specified type. It is not necessary to place quotation marks around the type as long as it starts with a letter and contains no spaces or special characters. For example, this specification doesn't require quotation marks:</P><P CLASS="OptionCode1">-only MENU</P><P CLASS="OptionText1">Escape characters are not allowed. This option can be repeated multiple times.</P><P CLASS="Option1">-p</P><P CLASS="OptionText1">Writes progress and summary information to standard output.</P><P CLASS="Option1">-rd</P><P CLASS="OptionText1">Suppresses warning messages emitted when a resource type is redeclared.</P><P CLASS="Option1">-script<FONT FACE="courier"> <B>Roman</B> | Japanese | Korean | SimpChinese | TradChinese</FONT></P><P CLASS="OptionText1"> Enables the recognition of any of several 2-byte character script systems to use when compiling and decompiling files. This option insures that 2-byte characters in strings are handled as indivisible entities. The default language is Roman and specifies 1-byte character sets.</P><P CLASS="Option1">-s[kip] <I>typeExpr</I>[(<I>idExpr1</I>[:<I>idExpr2</I>] | <I>resourceName</I>)]</P><P CLASS="OptionText1">Skips resources of the type indicated by <I>typeExpr</I>. For example, it is very useful to be able to skip <FONT FACE="courier">'CODE'</FONT> resources. </P><P CLASS="OptionText1">An ID (<I>idExpr1</I>), range of IDs (<I>idExpr1</I>:<I>idExpr2</I>), or resource name can also be supplied to further specify which resources to skip. If you provide this additional information, DeRez skips only the specified resources. </P><P CLASS="OptionText1">You can repeat this option multiple times. Note that this option cannot be used in conjunction with the <FONT FACE="courier">-only</FONT> option.</P><P CLASS="OptionNote1"><B>Note</B><BR>The <I>typeExpr</I> parameter is an expression and must be enclosed in single quotation marks. If you also specify an ID, range of IDs, or resource name, you must place double quotation marks around the entire option parameter, as in this example: </P><P CLASS="OptionCode1">-skip &quot;'MENU' (1:128)&quot; <BR>-skip &quot;'MENU' (&#8706;&quot;MyMenu&#8706;&quot;)&quot;</P><P CLASS="Option1">-s[kip] <I>type</I></P><P CLASS="OptionText1">Skips only resources of the specified type. It is not necessary to place quotation marks around the type as long as it starts with a letter and does not contain spaces or special characters. For example, this specification doesn't require quotation marks:</P><P CLASS="OptionCode1">-skip CODE</P><P CLASS="OptionText1">Escape characters are not allowed. This option can be repeated multiple times.</P><P CLASS="Option1">-u[ndef] <I>macro</I></P><P CLASS="OptionText1">Undefines the preset macro variable <I>macro</I>. This is the same as writing </P><P CLASS="OptionCode1">#undef <I>macro</I> </P><P CLASS="OptionText1">at the beginning of the resource file. This option can be repeated more than once on a command line.</P><P CLASS="SectionHd">EXAMPLES</P><P CLASS="Text1">The following command line displays all the <FONT FACE="courier">'MENU'</FONT> resources used by the MPW Shell. The type declaration for <FONT FACE="courier">'MENU'</FONT> resources is found in the <FONT FACE="courier">Types.r</FONT> file. </P><P CLASS="Code">DeRez &quot;{ShellDirectory}MPW Shell&quot; -only MENU Types.r </P><P CLASS="Text1">In the following example, DeRez decompiles the string resource with ID 150 in the System file located in the <FONT FACE="courier">HD:OS</FONT> directory. </P><P CLASS="Code">DeRez HD:OS:System SysTypes.r -only &quot;'STR ' (150)&quot; </P><P CLASS="SectionHd">SEE ALSO</P><P CLASS="Text1"><FONT FACE="courier"><A HREF="rez.html">Rez</A></FONT></P><P CLASS="Text1"><FONT FACE="courier"><A HREF="rezdet.html">RezDet</A></FONT></P><P CLASS="Text1">Type declaration files in the <FONT FACE="courier">{RIncludes}</FONT> folder</P><P CLASS="Text1">&nbsp;<BR>&nbsp;</P><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="deleterevisions.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="directory.html">Next</A></P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="600">		<P CLASS="Copyright">Copyright Apple Computer, Inc. 1993-2000</P>		<P CLASS="Date">Last Updated July 2000</P>		</TD>	</TR></TABLE></TD></TR></TABLE><!--#include virtual="/footer" --></BODY></HTML>