<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><LINK REL="STYLESHEET" HREF="cmdref.css" CHARSET="ISO-8859-1" TYPE="text/css"><TITLE>Canon</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!--#include file="breadcrumb" --><!--#include virtual="/adcnavbar" --><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD><TABLE WIDTH="600" BGCOLOR="0" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD><P CLASS="BookTitle">MPW Command Reference</P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="buildprogram.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="catenate.html">Next</A></P></TD>	</TR></TABLE><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="475"><P CLASS="PageHdL">Canon</P></TD>		<TD WIDTH="125"><P CLASS="PageHdR">Tool</P></TD>	</TR></TABLE><P CLASS="SectionHd">SYNTAX</P><P CLASS="Syntax">Canon <I>dictionaryFile</I> [<I>inputFile1</I>] [<I>inputFile2</I>]&#133; [-a] [-c <I>n</I>] [-s]</P><P CLASS="SectionHd">DESCRIPTION</P><P CLASS="Text1">The Canon tool copies the specified files to standard output, replacing their identifiers with those listed in <I>dictionaryFile</I>. This allows you to easily change the spelling or case of identifiers that appear in your input files, making them uniform throughout. </P><P CLASS="SectionHd">INPUT</P><P CLASS="Text1">Standard input, unless you specify input files (<I>inputFile</I>&#133;).</P><P CLASS="SectionHd">OUTPUT</P><P CLASS="Text1">Standard output. After processing, Canon writes the input files with the corrected spellings to standard output. </P><P CLASS="SectionHd">STATUS</P><P CLASS="Text1">Canon can return the following status codes:<BR><BR></P><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">0</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">no errors</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">1</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">syntax error</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">2</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">other errors</P></TD></TR></TABLE><P CLASS="SectionHd">PARAMETERS</P><P CLASS="Option1"><I>dictionaryFile</I></P><P CLASS="OptionText1">Specifies the identifiers to be replaced and gives their canonical spellings. </P><P CLASS="OptionText1">For each line in the dictionary you may specify either a pair of identifiers or a single identifier. If you specify two identifiers, the first represents the identifier to replace, and the second its canonical spelling. For example, the dictionary entry</P><P CLASS="OptionCode1">NIL&nbsp;&nbsp;NULL&nbsp;&nbsp;# change NIL to NULL</P><P CLASS="OptionText1">changes each occurrence of <FONT FACE="courier">NIL</FONT> to <FONT FACE="courier">NULL</FONT>.</P><P CLASS="OptionText1">If you specify a single identifier, the identifier represents both the identifier to match and its canonical spelling. You can use this form only to change the case of an identifier. This is because pattern matching is normally not case sensitive and therefore all characters in an identifier are significant. </P><P CLASS="OptionText1">For example, the dictionary entry</P><P CLASS="OptionCode1">true</P><P CLASS="OptionText1">changes all occurrences of <FONT FACE="courier">TRUE</FONT>, <FONT FACE="courier">True</FONT>, <FONT FACE="courier">tRUE</FONT>, and so on to <FONT FACE="courier">true</FONT>.</P><P CLASS="OptionText1">You can specify a left context for the first identifier on each line of the dictionary by preceding it with a sequence of nonidentifier characters. Replacement then occurs only if the left context in the input file exactly matches the left context in the dictionary. </P><P CLASS="OptionText1">For example, if the C structure component <FONT FACE="courier">upperLeft</FONT> should be replaced with <FONT FACE="courier">topLeft</FONT>, the dictionary might include the following:</P><P CLASS="OptionCode1">upperLeft&nbsp;&nbsp;topLeft<BR>-&gt;upperLeft&nbsp;&nbsp;topLeft</P><P CLASS="OptionText1">Note that you can include comments in the dictionary file by using the # symbol. The Canon tool ignores everything from the right of it to the end of the line. </P><P CLASS="OptionText1">The maximum line length for the dictionary file is 256 characters.</P><P CLASS="Option1"><I>inputFile1</I> [<I>inputFile2</I>]&#133;</P><P CLASS="OptionText1">Specifies the files you want Canon to process.</P><P CLASS="SectionHd">OPTIONS</P><P CLASS="Option1">-a</P><P CLASS="OptionText1">Causes the characters $, %, and @ to be considered letters (for the purpose of defining identifiers). Normally, MPW defines identifiers as a letter followed by any number of letters (including underscore characters) and digits. The <FONT FACE="courier">-a</FONT> option extends this definition, allowing you to match characters for identifiers in assembly-language sources.</P><P CLASS="Option1">-c <I>n</I></P><P CLASS="OptionText1">Considers only the first <I>n</I> characters of an identifier to be significant. Normally Canon considers all characters to be significant.</P><P CLASS="Option1">-s</P><P CLASS="OptionText1">Uses case-sensitive matching. Normally pattern matching is not case sensitive.</P><P CLASS="SectionHd">EXAMPLES</P><P CLASS="Text1">The following command line copies the file <FONT FACE="courier">Source.c</FONT> to the <FONT FACE="courier">Temp</FONT> file after having replaced identifiers whose first eight characters match a dictionary entry with that entry. The <FONT FACE="courier">-c 8</FONT> option is useful when porting source code from other systems that consider only the first eight characters to be significant.</P><P CLASS="Code">Canon -c 8 &quot;{MPW}&quot;Tools:Canon.Dict Source.c &gt; Temp</P><P CLASS="Text1">Note that you can find the file <FONT FACE="courier">Canon.Dict</FONT> from the above example in the Tools folder. It contains a list of all the identifiers used in the  Standard C Library and the <I>Inside Macintosh</I> C interfaces.</P><P CLASS="Text1">You can use the <FONT FACE="courier">Canon.Dict</FONT> file when correcting the spelling of identifiers in C source files. You can also use it to port Pascal programs from other systems, as long as you use the canonical capitalizations for the Standard C Library identifiers.</P><P CLASS="SectionHd">LIMITATIONS</P><P CLASS="Text1">The Canon tool allows a maximum line length of 256 characters in the dictionary file. </P><P CLASS="Text1">Canon replaces identifiers in the comment sections of input files.</P><P CLASS="Text1">&nbsp;<BR>&nbsp;</P><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="buildprogram.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="catenate.html">Next</A></P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="600">		<P CLASS="Copyright">Copyright Apple Computer, Inc. 1993-2000</P>		<P CLASS="Date">Last Updated July 2000</P>		</TD>	</TR></TABLE></TD></TR></TABLE><!--#include virtual="/footer" --></BODY></HTML>