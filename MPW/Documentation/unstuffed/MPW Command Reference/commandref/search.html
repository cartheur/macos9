<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><LINK REL="STYLESHEET" HREF="cmdref.css" CHARSET="ISO-8859-1" TYPE="text/css"><TITLE>Search </TITLE></HEAD><BODY BGCOLOR="#ffffff"><!--#include file="breadcrumb" --><!--#include virtual="/adcnavbar" --><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD><TABLE WIDTH="600" BGCOLOR="0" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD><P CLASS="BookTitle">MPW Command Reference</P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="sc.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="sendae.html">Next</A></P></TD>	</TR></TABLE><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="475"><P CLASS="PageHdL">Search</P></TD>		<TD WIDTH="125"><P CLASS="PageHdR">Tool</P></TD>	</TR></TABLE><P CLASS="SectionHd">SYNTAX</P><P CLASS="Syntax">Search <I>pattern</I> [<I>file1</I>] [<I>file2</I>]&#133; [-b] [-e <I>pattern</I>]<BR>[-exclude <I>filename</I> | <I>dirname</I>] [-f <I>file</I>] [-fb] [-i | -s] [-nf] [-ns]<BR>[-p | -pv] [-q] [-r] [-rd] [-sf] [-skipalias] [-t <I>type</I>] [-w] [-word]</P><P CLASS="SectionHd">DESCRIPTION</P><P CLASS="Text1">The Search tool searches input files for lines that contain a pattern and writes those lines to standard output. For quick location of the desired text, Search adds the appropriate File and Line commands to the beginning of each line of output, as in this example:</P><P CLASS="Code">File &quot;LessTravelled.c&quot;; Line 14 #made all the difference</P><P CLASS="Text1">If you execute this line, the MPW Shell opens the file and selects the line that matches the pattern. This works because File and Line are defined as MPW Shell commands: File, which is defined in the <FONT FACE="courier">Startup</FONT> file as an alias for Target, opens the file as the target window, and Line selects the line that matches the pattern.</P><P CLASS="Text1">In addition to selecting lines of text, Search can select a particular string.To perform this kind of search, you must specify a constant string for <I>pattern</I> instead of a selection expression. If the <FONT FACE="courier">{SearchType}</FONT> environment variable is set to 1 (meaning that "Entire Word" is selected in the Shell's Find dialog), Search will search for whole words only, in the same way that it would in response to the <FONT FACE="courier">-word</FONT> option.</P><P CLASS="SectionHd">INPUT</P><P CLASS="Text1">Standard input, unless you specify input files on the command line.</P><P CLASS="SectionHd">OUTPUT</P><P CLASS="Text1">Standard output. If you specify a selection expression for <I>pattern</I>, Search writes input lines that match the pattern in the following form:</P><P CLASS="Code">File &quot;<I>file</I>&quot;; Line <I>n</I> # displays the matching line</P><P CLASS="Text1">If you specify a constant string for <I>pattern</I>, Search writes the text strings that match the pattern in the following form:</P><P CLASS="Code">File &quot;<I>file</I>&quot;; Line <I>regular expression</I> # displays the line</P><P CLASS="SectionHd">STATUS</P><P CLASS="Text1">Search can return the following status codes:<BR><BR></P><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">0</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">no error</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">1</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">syntax error</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">2</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">pattern not found</P></TD></TR></TABLE><P CLASS="SectionHd">PARAMETERS</P><P CLASS="Option1"><I>pattern</I> </P><P CLASS="OptionText1">Specifies the pattern by selection expression or by constant string. If you specify a selection expression, the line or lines containing the pattern are selected. Note that selection expressions include regular expressions and certain MPW-specific symbols and must be enclosed in slashes (<FONT FACE="courier">/&#133;/</FONT>). </P><P CLASS="OptionText1">If you specify a constant string, Search selects only that text, not the lines containing the pattern. A constant string can be any literal string that you want to find. Note that you must place quotation marks around the string if it contains any spaces or special characters. When searching for a constantstring, the value of the <FONT FACE="courier">{SearchType}</FONT> environment variable is used to determine if Search shouldsearch for whole words only.</P><P CLASS="Option1"><I>file1</I> [<I>file2</I>]&#133;</P><P CLASS="OptionText1">Specifies one or more input files.</P><P CLASS="SectionHd">OPTIONS</P><P CLASS="Option1">-b</P><P CLASS="OptionText1">Breaks the output text into two lines, placing the File and Line commands on the first and the matching lines of text on the second.</P><P CLASS="Option1">-e <I>pattern</I></P><P CLASS="OptionText1">Specifies the pattern by selection expression or by constant string.This option allows the pattern to be specified after other options.</P><P CLASS="Option1">-exclude <I>filename</I> | <I>dirname</I></P><P CLASS="OptionText1">Skips the specified file (or directory if <FONT FACE="courier">-rd</FONT> is specified). Among other problems, this feature prevents the undesirable behavior of searching a file (e.g., the worksheet) that is receiving the output of the search.</P><P CLASS="Option1">-f <I>file</I></P><P CLASS="OptionText1">Writes to this file any lines not written to standard output. Normally this includes all nonmatching lines.</P><P CLASS="Option1">-fb</P><P CLASS="OptionText1">Flushes the output buffer after every match.</P><P CLASS="Option1">-i</P><P CLASS="OptionText1">Specifies a search that is not case sensitive, overriding the <FONT FACE="courier">{CaseSensitive}</FONT> variable.</P><P CLASS="Option1">-nf</P><P CLASS="OptionText1">Writes an error message to standard output if the pattern is not found.</P><P CLASS="Option1">-ns</P><P CLASS="OptionText1">Returns a status code of 0 if the pattern is not found.</P><P CLASS="Option1">-p</P><P CLASS="OptionText1">Writes progress information to diagnostic output.</P><P CLASS="Option1">-pv</P><P CLASS="OptionText1">Adds to the <FONT FACE="courier">-p</FONT> progress information every directory and file searched, whether or not a "hit" was made.</P><P CLASS="Option1">-q</P><P CLASS="OptionText1">Does not add the File and Line commands to matching lines. In this case, Search writes only the matching lines to standard output.</P><P CLASS="Option1">-r</P><P CLASS="OptionText1">Writes to standard output all lines that do not match the pattern.</P><P CLASS="Option1">-rd</P><P CLASS="OptionText1">Recursive search. Treats a directory as the root of a tree of files to be searched, along with any other files (or directories) specified.</P><P CLASS="Option1">-s</P><P CLASS="OptionText1">Specifies a case-sensitive search, overriding the <FONT FACE="courier">{CaseSensitive}</FONT> variable.</P><P CLASS="Option1">-sf</P><P CLASS="OptionText1">Stops searching after the first successful match. Normally Search finds all matches.</P><P CLASS="Option1">-skipalias</P><P CLASS="OptionText1">Specifies that aliases should be skipped. This option eliminates potential multiple hits in the same file. More importantly, it prevents the problem of an infinite loop which will eventually hang the system, a problem that is sometimes encountered with the <FONT FACE="courier">-rd</FONT> option when multiple aliases resolve to each other's directories (e.g., alias "A1" in directory "D1" resolves to "D2", which contains an alias "A2" that resolves to directory "D1").</P><P CLASS="Option1">-t <I>type</I></P><P CLASS="OptionText1">Specifies that only files with the specified file type should be searched.</P><P CLASS="Option1">-w</P><P CLASS="OptionText1">Suppresses warning messages.</P><P CLASS="Option1">-word</P><P CLASS="OptionText1">Searches for whole words only. A whole word is defined to be any combination of characters specified in the <FONT FACE="courier">{WordSet}</FONT> environment variable. Any character in the searched file NOT in the <FONT FACE="courier">{WordSet}</FONT> environment variable will act as a word separator. This is analagous to selecting the "Entire Word" button in the Find/Replace dialog.</P><P CLASS="OptionNote1"><B>Note</B><BR>This option is ignored for regular expression searches.&#149;</P><P CLASS="SectionHd">EXAMPLES</P><P CLASS="Text1">The following command line searches the file <FONT FACE="courier">Sample.p</FONT> for the pattern <FONT FACE="courier">/procedure/</FONT> and writes all matching lines to standard output. Note that since the first character of the  pattern is a slash (<FONT FACE="courier">/</FONT>), Search automatically interprets it as a selection expression.</P><P CLASS="Code">Search /procedure/ Sample.p</P><P CLASS="Text1">The next command line searches the same file for the string <FONT FACE="courier">"procedure"</FONT> and writes all matches for that string to standard output. Note that since <FONT FACE="courier">"procedure"</FONT> is not enclosed in slashes, Search interprets it as a constant string.</P><P CLASS="Code">Search &quot;procedure&quot; Sample.p</P><P CLASS="Text1">By searching for the lines that contain <FONT FACE="courier">Export</FONT>, the example below lists all of the Export commands in the <FONT FACE="courier">StartUp</FONT> and <FONT FACE="courier">UserStartup</FONT> files:</P><P CLASS="Code">Search /Export/ &quot;{MPW}&quot;StartUp &quot;{MPW}&quot;UserStartUp</P><P CLASS="Text1">Given the file <FONT FACE="courier">Test1</FONT> as input, the following example writes all lines containing the  string <FONT FACE="courier">"pattern"</FONT>to standard output and all other lines (that is, those not containing the string) to <FONT FACE="courier">Test1.nonmatch</FONT>.</P><P CLASS="Code">Search /pattern/ Test1 -f Test1.nonmatch</P><P CLASS="Text1">The opposite of the preceding example, the following command writes all lines that do not contain the string &quot;<FONT FACE="courier">pattern</FONT>&quot; to standard output, and all other lines (that is, those containing the string) to <FONT FACE="courier">Test2.match</FONT>.</P><P CLASS="Code">Search /pattern/ Test2 -r -f Test2.match</P><P CLASS="SectionHd">SEE ALSO</P><P CLASS="Text1"><FONT FACE="courier"><A HREF="find.html">Find</A></FONT></P><P CLASS="Text1">&nbsp;<BR>&nbsp;</P><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="sc.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="sendae.html">Next</A></P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="600">		<P CLASS="Copyright">Copyright Apple Computer, Inc. 1993-2000</P>		<P CLASS="Date">Last Updated July 2000</P>		</TD>	</TR></TABLE></TD></TR></TABLE><!--#include virtual="/footer" --></BODY></HTML>