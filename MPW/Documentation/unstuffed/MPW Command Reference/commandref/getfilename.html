<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><LINK REL="STYLESHEET" HREF="cmdref.css" CHARSET="ISO-8859-1" TYPE="text/css"><TITLE>GetFileName</TITLE></HEAD><BODY BGCOLOR="#ffffff"><!--#include file="breadcrumb" --><!--#include virtual="/adcnavbar" --><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD><TABLE WIDTH="600" BGCOLOR="0" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD><P CLASS="BookTitle">MPW Command Reference</P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="geterrortext.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="getlistitem.html">Next</A></P></TD>	</TR></TABLE><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="475"><P CLASS="PageHdL">GetFileName</P></TD>		<TD WIDTH="125"><P CLASS="PageHdR">Tool</P></TD>	</TR></TABLE><P CLASS="SectionHd">SYNTAX</P><P CLASS="Syntax">GetFileName [<I>pathname</I>] [-b <I>buttonTitle</I>] <BR>[-c | [-d | -p | -t <I>type</I> | -wd] [-m <I>message</I>]]<BR> [-noResolve] [-q] [-s] [-stdfile | -navsvc]</P><P CLASS="SectionHd">DESCRIPTION</P><P CLASS="Text1">The GetFileName tool displays a Standard File dialog in which you can select or enter a filename. After you have specified the filename in the dialog, GetFileName returns this filename as a pathname to standard output. This allows you to use the output of a dialog transaction in a script.</P><P CLASS="Text1">The dialog produced can be one of two types: The first type is the <FONT FACE="courier">SFGetFile</FONT> dialog, which allows you to click a filename. GetFileName produces this dialog by default. This dialog can also be used for selecting a directory (<FONT FACE="courier">-d</FONT>). In this case the directory is selected in the same manner as a file. </P><P CLASS="Text1">The second type of dialog is the <FONT FACE="courier">SFPutFile</FONT> dialog, which allows you to enter a filename in a text field after selecting the directory in which the file should be placed. The <FONT FACE="courier">-p</FONT> option selects this type of dialog.</P><P CLASS="Note"><B>Note</B><BR>GetFileName supports Navigation Services dialogs, but only in the PowerPC executable version of the tool, and only if Navigation Services is available for use by the tool. The tool respects the setting of the <FONT FACE="courier">{UseStandardFile}</FONT> shell environment variable, if the variable is exported.&#149;</P><P CLASS="SectionHd">INPUT</P><P CLASS="Text1">None</P><P CLASS="SectionHd">OUTPUT</P><P CLASS="Text1">Standard output. The GetFileName tool writes a full pathname starting at the volume root to standard output. </P><P CLASS="SectionHd">STATUS</P><P CLASS="Text1">The GetFileName command can return the following status codes:<BR><BR></P><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">0</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">user specified a file and no errors occurred</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">1</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">parameter or option error</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">2</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">system error</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">4</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">user canceled the standard file dialog</P></TD></TR></TABLE><P CLASS="SectionHd">PARAMETERS</P><P CLASS="Option1"><I>pathname</I></P><P CLASS="OptionText1">Sets the starting directory in the dialog to <I>pathname</I>. Normally GetFileName starts with the current pathname. </P><P CLASS="OptionText1">If you call an <FONT FACE="courier">SFPutFile</FONT> dialog (<FONT FACE="courier">-p</FONT>) and <I>pathname</I> includes a local filename, GetFileName uses it as the default filename. That is, it appears in the dialog's text field and is automatically returned if you do not alter it.</P><P CLASS="SectionHd">OPTIONS</P><P CLASS="Option1">-b <I>buttonTitle </I></P><P CLASS="OptionText1">Renames the default button in the dialog. If you do not specify this option, Open is used in the standard <FONT FACE="courier">SFGetFile</FONT> dialog, Directory in the directory <FONT FACE="courier">SFGetFile</FONT> dialog, and Save in the standard <FONT FACE="courier">SFPutFile</FONT> dialog. </P><P CLASS="Option1">-c </P><P CLASS="OptionText1">Writes the current standard file pathname to standard output without displaying a dialog.</P><P CLASS="Option1">-d</P><P CLASS="OptionText1">Displays an <FONT FACE="courier">SFGetFile</FONT> dialog for selecting a directory.</P><P CLASS="Option1">-m <I>message</I></P><P CLASS="OptionText1">Specifies a prompt message. This message appears below the scroll box in an <FONT FACE="courier">SFGetFile</FONT> dialog and directly above the text field in an <FONT FACE="courier">SFPutFile</FONT> dialog.</P><P CLASS="Option1">-navsvc</P><P CLASS="OptionText1">Forces the use of Navigation Services dialogs (if Navigation Services is available).</P><P CLASS="Option1">-noResolve</P><P CLASS="OptionText1">Forces the pathname of the alias file to be returned (instead of the target folder of the resolved alias) if a folder alias is selected during a <FONT FACE="courier">-d</FONT> or <FONT FACE="courier">-wd</FONT> dialog.</P><P CLASS="Option1">-p </P><P CLASS="OptionText1">Displays an <FONT FACE="courier">SFPutFile</FONT> dialog.</P><P CLASS="Option1">-q</P><P CLASS="OptionText1">Inhibits putting quotation marks around the pathname written to standard output. Pathnames are normally enclosed in quotation marks when necessary.</P><P CLASS="Option1">-s</P><P CLASS="OptionText1">Returns a status of 0 even if Cancel is clicked.</P><P CLASS="Option1">-stdfile</P><P CLASS="OptionText1">Forces the use of StandardFile dialogs.</P><P CLASS="Option1">-t <I>type</I>&#133;</P><P CLASS="OptionText1">Filters <FONT FACE="courier">SFGetFile</FONT> by allowing only files of the specified type to be selected. These files appear in boldface, while files of other types appear dim and cannot be selected. </P><P CLASS="OptionText1">Note that you can specify additional types (up to four) by repeating the <FONT FACE="courier">-t <I>type</I></FONT> option. This option is case sensitive.</P><P CLASS="Option1">-wd</P><P CLASS="OptionText1">Selects a writeable directory on a nonlocked volume.</P><P CLASS="SectionHd">EXAMPLES</P><P CLASS="Text1">The following command line opens the text file in the <FONT FACE="courier">{CIncludes}</FONT> directory chosen in the <FONT FACE="courier">SFGetFile</FONT> dialog:</P><P CLASS="Code">Open `GetFileName -t TEXT {CIncludes}`</P><P CLASS="Text1">The following command line displays an <FONT FACE="courier">SFPutFile</FONT> dialog with the directory set to <FONT FACE="courier">HD:MPW</FONT> and <FONT FACE="courier">StartUp</FONT> appearing in the text field.</P><P CLASS="Code">GetFileName -p HD:MPW:StartUp</P><P CLASS="SectionHd">LIMITATIONS</P><P CLASS="Text1">The resulting pathname cannot be longer than 255 characters.</P><P CLASS="SectionHd">SEE ALSO</P><P CLASS="Text1">Information about the Standard File Package in <I>Inside Macintosh</I></P><P CLASS="Text1">&nbsp;<BR>&nbsp;</P><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="geterrortext.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="getlistitem.html">Next</A></P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="600">		<P CLASS="Copyright">Copyright Apple Computer, Inc. 1993-2000</P>		<P CLASS="Date">Last Updated July 2000</P>		</TD>	</TR></TABLE></TD></TR></TABLE><!--#include virtual="/footer" --></BODY></HTML>