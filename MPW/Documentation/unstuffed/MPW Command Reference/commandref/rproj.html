<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><LINK REL="STYLESHEET" HREF="cmdref.css" CHARSET="ISO-8859-1" TYPE="text/css"><TITLE>RProj </TITLE></HEAD><BODY BGCOLOR="#ffffff"><!--#include file="breadcrumb" --><!--#include virtual="/adcnavbar" --><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD><TABLE WIDTH="600" BGCOLOR="0" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD><P CLASS="BookTitle">MPW Command Reference</P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="rotatewindows.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="rshell.html">Next</A></P></TD>	</TR></TABLE><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="475"><P CLASS="PageHdL">RProj</P></TD>		<TD WIDTH="125"><P CLASS="PageHdR">Built-in</P></TD>	</TR></TABLE><P CLASS="SectionHd">SYNTAX</P><P CLASS="Syntax">RProj <I>command</I></P><P CLASS="SectionHd">DESCRIPTION</P><P CLASS="Text1">The RProj command allows you to send a single Projector command to the SourceServer application. SourceServer is a single-user Projector server that is designed to be used in conjunction with a shell application. The RProj command can be used from either the MPW Shell or from ToolServer. </P><P CLASS="Text1">If you want to offload time-consuming Projector scripts, you can use RProj with the MPW Shell and RShell to package Projector scripts and send them to ToolServer, which then processes the scripts and sends one RProj command at a time to SourceServer. (See the <A HREF="rshell.html">RShell</A> command.)</P><P CLASS="Text1">If SourceServer is not running when the RProj command is executed, the MPW Shell launches it.</P><P CLASS="SectionHd">INPUT</P><P CLASS="Text1">Does not accept standard input.</P><P CLASS="SectionHd">OUTPUT</P><P CLASS="Text1">Standard output.</P><P CLASS="SectionHd">STATUS</P><P CLASS="Text1">RProj can return the following status codes:<BR><BR></P><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL"> 0</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">no errors</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL"> 1 </P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">syntax error</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL"> 2</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">execution error; invalid input</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL"> 3</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">system error</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">-1 </P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">unknown command</P></TD></TR></TABLE><P CLASS="SectionHd">PARAMETERS</P><P CLASS="Option1"><I>command</I></P><P CLASS="OptionText1">An MPW command line containing a single, atomic, Projector command.</P><P CLASS="OptionText1">Options to Projector commands must be listed explicitly, and pathnames must be fully expanded. SourceServer cannot expand MPW Shell variables or command aliases. </P><P CLASS="SectionHd">OPTIONS</P><P CLASS="Text1">None</P><P CLASS="SectionHd">EXAMPLES</P><P CLASS="Text1">Scripts designed to run on a ToolServer and SourceServer combination could contain lines such as</P><P CLASS="Code"><FONT FACE="courier">RProj MountProject &quot;{MPW}Examples:Projector Examples:Sample:&quot;</FONT></P><P CLASS="Text1">Note that in this command line the Shell variable <FONT FACE="courier">{MPW}</FONT> is expanded by the shell application before the RProj command sends the command line to SourceServer.</P><P CLASS="Text1">To send a preexisting script of Projector commands to SourceServer, you must first use the Alias command to insert an RProj command before each of the Projector command lines. For instance, for a MountProject command, the Alias command line appears in the following form:</P><P CLASS="Code">Alias MountProject &quot;RProj MountProject&quot;</P><P CLASS="Text1">After executing the Alias command, you could use the MountProject command alias without further modification:</P><P CLASS="Code">MountProject &quot;{MPW}Examples:Projector Examples:Sample:&quot;</P><P CLASS="Text1">There are two scripts with a master list of command aliases provided with SourceServer: <FONT FACE="courier">AliasSourceServer</FONT> and <FONT FACE="courier">UnaliasSourceServer</FONT>.To give the command aliases a scope beyond the execution lifetime of the AliasSourceServer script you must use this command line:</P><P CLASS="Code">Execute AliasSourceServer</P><P CLASS="Text1">It is frequently desirable for the current directories of both ToolServer and SourceServer to refer to the same directory so that existing Projector scripts can be run without modification. This is necessary when, for instance, you use SourceServer to check out files and ToolServer to build files.</P><P CLASS="Text1">AliasSourceServer changes the MPW Directory command to the command alias Directory2.The Directory2 script changes both the ToolServer and SourceServer current directories simultaneously. TheAliasSourceServer script calls Directory2 with no arguments to discover the working directory of ToolServer and then sets SourceServer to the same directory. As a result, Projector commands performed by SourceServer, as well as non-Projector commands performed by ToolServer, operate on the same default directory. </P><P CLASS="Text1">Once the directories of SourceServer and ToolServer are synchronized, you can issue Projector commands and route them to SourceServer with no further modification. </P><P CLASS="Text1">Execution of the UnaliasSourceServer script restores ToolServer to normal operation. An entire script for the ToolServer and SourceServer combination might look as follows:</P><P CLASS="Code">Execute AliasSourceServer<BR>MountProject &quot;{MPW}Examples:Projector Examples:Sample:&quot;<BR>Checkout -project Sample -d &quot;{MPW}&quot; &quot;command pages&quot;<BR>Execute UnaliasSourceServer</P><P CLASS="Text1">Assuming that the ToolServer and SourceServer combination is running on a different computer than your primary machine and MPW Shell, you can use the RShell command to send the script via Apple events. First, save the following script in a file named, for example, <FONT FACE="courier">MyProjectorCommands</FONT>:</P><P CLASS="Code">Execute AliasSourceServer<BR>Directory RemoteMachine:MySourceDirectory:<BR>MountProject AnotherMachine:MyProjectDirectory:<BR>CheckOutDir -r RemoteMachine:MySourceDirectory:<BR>CheckOut -touchOnly -p MyNameRevision -r<BR>Execute UnaliasSourceServer</P><P CLASS="Text1">Then type</P><P CLASS="Code"><FONT FACE="courier">RShell 'Execute RemoteMachine:MyProjectorCommands' &#8721;&#8721; &quot;{MPW}&quot;WorksheetTS</FONT></P><P CLASS="Text1">and press Enter. The MPW Shell displays a PPC Browser that allows you to select the target machine and application for the RShell command. (See the <A HREF="rshell.html#examples">RShell Examples</A>.) When you select the remote ToolServer, RShell tells it to execute the script <FONT FACE="courier">MyProjectorCommands</FONT>.When ToolServer executes the commands (which were aliased to include RProj before each one) RProj sends one command at a time to SourceServer. SourceServer executes the command and sends its results back to ToolServer.</P><P CLASS="SectionHd">SEE ALSO</P><P CLASS="Text1"><FONT FACE="courier"><A HREF="rshell.html">RShell</A></FONT></P><P CLASS="Text1">&nbsp;<BR>&nbsp;</P><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="rotatewindows.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="rshell.html">Next</A></P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="600">		<P CLASS="Copyright">Copyright Apple Computer, Inc. 1993-2000</P>		<P CLASS="Date">Last Updated July 2000</P>		</TD>	</TR></TABLE></TD></TR></TABLE><!--#include virtual="/footer" --></BODY></HTML>