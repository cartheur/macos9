<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1"><META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css"><LINK REL="STYLESHEET" HREF="cmdref.css" CHARSET="ISO-8859-1" TYPE="text/css"><TITLE>Evaluate </TITLE></HEAD><BODY BGCOLOR="#ffffff"><!--#include file="breadcrumb" --><!--#include virtual="/adcnavbar" --><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD><TABLE WIDTH="600" BGCOLOR="0" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD><P CLASS="BookTitle">MPW Command Reference</P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="erase.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="HeaderLink"><A HREF="execute.html">Next</A></P></TD>	</TR></TABLE><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="475"><P CLASS="PageHdL">Evaluate</P></TD>		<TD WIDTH="125"><P CLASS="PageHdR">Built-in</P></TD>	</TR></TABLE><P CLASS="SectionHd">SYNTAX</P><P CLASS="Syntax">Evaluate (<I>operand</I> <I>operator</I> <I>operand</I>)&#133; [-b | -h | -H | -o]<BR>Evaluate <I>name</I> [<I>operator</I>]= <I>operand</I></P><P CLASS="SectionHd">DESCRIPTION</P><P CLASS="Text1">The Evaluate command evaluates an expression given in one of the above syntax forms and either returns a value or defines a variable. The first syntax form allows you to specify a string of any number of operand-operator-operand sequences, such as (30+6) &#247; (9-3). In this case, Evaluate returns the value of the expression (6).</P><P CLASS="Text1">The second syntax form defines a variable (<I>name</I>) to a value, using C language operators such as <FONT FACE="courier">+=</FONT> and <FONT FACE="courier">-=</FONT>.If the variable does not already exist, it is interpreted as 0 before being modified according to the operator and operand. In this case, Evaluate does not return a value; instead it defines a variable. If it does exist, its value is modified according to the operator and operand. </P><P CLASS="SectionHd">INPUT</P><P CLASS="Text1">None</P><P CLASS="SectionHd">OUTPUT</P><P CLASS="Text1">Standard output. The Evaluate command returns a value to standard output when used with the first syntax form. Expressions containing logical operators (such as <FONT FACE="courier">&amp;&amp;</FONT>, <FONT FACE="courier">&gt;</FONT>, and <FONT FACE="courier">!-</FONT>) return the values 0 (false) and 1 (true). </P><P CLASS="Text1">Expressions containing mathematical operators evaluate to their actual value. By default, Evaluate returns decimal numbers but you can request either binary, hexadecimal, or octal numbers instead (<FONT FACE="courier">-b</FONT>, <FONT FACE="courier">-h</FONT>, <FONT FACE="courier">-H</FONT>, <FONT FACE="courier">-o</FONT>).</P><P CLASS="Note"><B>Note</B><BR>To redirect standard output or diagnostic output, enclose the Evaluate command in parentheses; otherwise, Evaluate erroneously interprets the <FONT FACE="courier">&gt;</FONT> and <FONT FACE="courier">&#8805;</FONT> symbols as expression operators. &#149;</P><P CLASS="SectionHd">STATUS</P><P CLASS="Text1">Evaluate can return the following status codes:<BR><BR></P><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">0</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">valid expression</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextL">1</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">invalid expression</P></TD></TR></TABLE><P CLASS="SectionHd">PARAMETERS</P><P CLASS="Text1">Note that all null parameters evaluate to 0.</P><P CLASS="Option1"><I>name</I></P><P CLASS="OptionText1">Specifies a variable whose value is set or modified.</P><P CLASS="Option1"><I>operand</I></P><P CLASS="OptionText1">Specifies the numerical or string data on which the operator works. Most operators require numerical operands, specified as either decimal, binary, hexadecimal, or octal values. These numerical types and their radices follow:<BR><BR></P><!-- Table Start --><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="0"><TR><TD ROWSPAN="4" COLSPAN="1" WIDTH="117" ALIGN="left"></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">Decimal</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">[0-9]</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">Binary</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">0b[01]</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">Hexadecimal</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">0x[0-9A-F] &nbsp;or&nbsp; $[0-9A-F]</P></TD></TR><TR><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">Octal</P></TD><TD ROWSPAN="1" COLSPAN="1"><P CLASS="TableTextR">0[0-7]</P></TD></TR></TABLE><!-- Table End --><P CLASS="OptionText1">Note the prefixes <FONT FACE="courier">0b</FONT> for binary, <FONT FACE="courier">0x</FONT> or <FONT FACE="courier">$</FONT> for hexadecimal, and <FONT FACE="courier">0</FONT> for octal.</P><P CLASS="OptionText1">String variables can be used with the <FONT FACE="courier">==</FONT>, <FONT FACE="courier">!=</FONT>, <FONT FACE="courier">=&#126;</FONT>, and <FONT FACE="courier">!&#126;</FONT> operators. The latter two operators require that the operands on the right be regular expressions.</P><P CLASS="Option1"><I>operator</I></P><P CLASS="OptionText1">Specifies a symbol, such as <FONT FACE="courier">+</FONT>, <FONT FACE="courier">&amp;&amp;</FONT>, or <FONT FACE="courier">!</FONT>, that works on the operands. See <A HREF="appc.html">Appendix C</A> for a complete list of operators and their definitions.</P><P CLASS="SectionHd">OPTIONS</P><P CLASS="Option1">-b</P><P CLASS="OptionText1">Writes the result as a binary number, prefixing it with <FONT FACE="courier">0b</FONT>.</P><P CLASS="Option1">-h</P><P CLASS="OptionText1">Writes the result as a hexadecimal number, prefixing it with <FONT FACE="courier">0x</FONT>.</P><P CLASS="Option1">-H</P><P CLASS="OptionText1">Writes the result as a hexadecimal number, prefixing it with <FONT FACE="courier">0x</FONT>and using uppercase letters A-F.</P><P CLASS="Option1">-o</P><P CLASS="OptionText1">Writes the result as an octal number, prefixing it with <FONT FACE="courier">0</FONT>.</P><P CLASS="SectionHd">EXAMPLES</P><P CLASS="Text1">Using the first syntax form, the command line </P><P CLASS="Code">Evaluate (1+2) * (3+4)</P><P CLASS="Text1">computes the expression and writes the result to standard output: </P><P CLASS="Code">21</P><P CLASS="Text1">The following command line computes the expression and writes the result to standard output as a hexadecimal number.</P><P CLASS="Code">Evaluate 8 + 8 -h<BR>0x10</P><P CLASS="Text1">The previous example specifies hexadecimal output, yet the operands used in the expression are decimal. The following command line, on the other hand, uses both a hexadecimal and a decimal number as operands and writes a decimal value (the default) to standard output.</P><P CLASS="Code">Evaluate 0xA + 6<BR>16</P><P CLASS="Text1">Using the second syntax form, the following command line increments the value of the MPW Shell variable <FONT FACE="courier">{lines}</FONT> by 1. If <FONT FACE="courier">{lines}</FONT> is an undefined variable, Evaluate sets its value to 1.</P><P CLASS="Code">Evaluate lines += 1</P><P CLASS="Text1">In the following example, the <FONT FACE="courier">=&#126;</FONT> string operator (reserved for regular expressions) is used to return the directory prefix of the pathname contained in the variable <FONT FACE="courier">{aPathname}</FONT>. The right operand (<FONT FACE="courier">/(([&#172;:]+:)*)&#174;1&#8776;/</FONT>) is a regular expression that matches everything in the pathname up to the last colon and stores it as the MPW Shell variable <FONT FACE="courier">{&#174;1}</FONT>. The Echo command then returns the directory prefix, <FONT FACE="courier">{&#174;1}</FONT>. </P><P CLASS="Code">(Evaluate &quot;{aPathname}&quot; =&#126; /(([&#172;:]+:)*)&#174;1&#8776;/) &gt; Dev:Null<BR>Echo {&#174;1}</P><P CLASS="Text1">Since the actual output is unnecessary, it is redirected to the null device, <FONT FACE="courier">Dev:Null</FONT>.Note that the use of I/O redirection requires that the Evaluate command be enclosed in parentheses so that the output redirection symbol, <FONT FACE="courier">&gt;</FONT>, is not taken as an expression operator. </P><P CLASS="SectionHd">LIMITATIONS</P><P CLASS="Text1">The Evaluate command does not allow filename generation, conditional execution, pipe specifications, or input/output redirection within expressions. To use these features outside expressions, you must place the entire Evaluate command line within parentheses.</P><P CLASS="SectionHd">SEE ALSO</P><P CLASS="Text1"><FONT FACE="courier"><A HREF="if.html">If&#133;</A></FONT></P><P CLASS="Text1"><FONT FACE="courier"><A HREF="break.html">Break</A></FONT></P><P CLASS="Text1"><FONT FACE="courier"><A HREF="continue.html">Continue</A></FONT></P><P CLASS="Text1"><FONT FACE="courier"><A HREF="exit.html">Exit</A></FONT></P><P CLASS="Text1">&nbsp;<BR>&nbsp;</P><HR WIDTH="600" ALIGN="LEFT"><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="erase.html">Previous</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="index.html">Table of Contents</A></P></TD>		<TD WIDTH="200"><P CLASS="FooterLink"><A HREF="execute.html">Next</A></P></TD>	</TR></TABLE><TABLE WIDTH="600" BORDER="0" CELLSPACING="0" CELLPADDING="0">	<TR>		<TD WIDTH="600">		<P CLASS="Copyright">Copyright Apple Computer, Inc. 1993-2000</P>		<P CLASS="Date">Last Updated July 2000</P>		</TD>	</TR></TABLE></TD></TR></TABLE><!--#include virtual="/footer" --></BODY></HTML>