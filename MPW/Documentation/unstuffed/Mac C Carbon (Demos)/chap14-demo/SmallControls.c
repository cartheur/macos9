// *******************************************************************************************// SmallControls.c//********************************************************************************************// ииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии includes#include "Controls3.h"// *************************************************************************** doSmallControlsvoid  doSmallControls(void){	OSStatus						osError;	Str255							pascalString;	CFStringRef					stringRef;	Rect								contentRect					= {   0,  0,388,175 };	Rect								staticTextRect			= {   8, 20, 86,144 };	Rect								vertScrollBarRect		= {  -1,164,378,175 };	Rect								horizScrollBarRect	= { 377, -1,388,165 };	Rect								tabRect							= { 106, 20,144,144 };	Rect								sliderRect					= { 164, 20,182,145 };	Rect								radioButtonRect			= { 200, 23,216,144 };	Rect								checkBoxRect				= { 220, 23,236,144 };	Rect								editTextRect				= { 300, 26,313,139 };	Rect								pushButtonRect			= { 338, 21,356,144 };	WindowRef						windowRef;	ControlFontStyleRec	controlFontStyleStruc;	ControlRef					controlRef;	ControlSize					controlSize = kControlSizeSmall;	ControlTabEntry			tabArray[2];	if(!(osError = CreateNewWindow(kFloatingWindowClass,kWindowStandardFloatingAttributes + 																 kWindowResizableAttribute,&contentRect,																 &windowRef)))	{		ChangeWindowAttributes(windowRef,0,kWindowCloseBoxAttribute);		RepositionWindow(windowRef,NULL,kWindowAlertPositionOnMainScreen);		SetThemeWindowBackground(windowRef,kThemeBrushDialogBackgroundActive,false);		SetPortWindowPort(windowRef);		UseThemeFont(kThemeSmallSystemFont,smSystemScript);		ShowWindow(windowRef);	}	else	{		SysBeep(10);		return;	}	GetIndString(pascalString,rSmallControlsString,1);	stringRef = CFStringCreateWithPascalString(NULL,pascalString,kCFStringEncodingMacRoman);		controlFontStyleStruc.flags = kControlUseFontMask | kControlUseJustMask;	controlFontStyleStruc.font 	= kControlFontSmallSystemFont;	controlFontStyleStruc.just  = teJustCenter;	CreateStaticTextControl(windowRef,&staticTextRect,stringRef,&controlFontStyleStruc,													&controlRef);	// иииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии scroll bars		if((osError = CreateScrollBarControl(windowRef,&vertScrollBarRect,0,0,200,200,false,NULL,																			 &controlRef)) == noErr)		SetControlData(controlRef,kControlEntireControl,kControlSizeTag,sizeof(controlSize),									 &controlSize);	if((osError = CreateScrollBarControl(windowRef,&horizScrollBarRect,0,0,300,300,false,NULL,																			 &controlRef)) == noErr)		SetControlData(controlRef,kControlEntireControl,kControlSizeTag,sizeof(controlSize),									 &controlSize);	// иииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии tab	tabArray[0].icon = tabArray[1].icon = NULL;	tabArray[0].name = CFSTR("Tab 1");	tabArray[1].name = CFSTR("Tab 2");	tabArray[0].enabled = tabArray[1].enabled = true;	CreateTabsControl(windowRef,&tabRect,kControlTabSizeSmall,kControlTabDirectionSouth,2,										tabArray,&controlRef);	// ииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии slider		if((osError = CreateSliderControl(windowRef,&sliderRect,0,0,100,  																	kControlSliderPointsDownOrRight,5,false,NULL,  																	&controlRef)) == noErr)		SetControlData(controlRef,kControlEntireControl,kControlSizeTag,sizeof(controlSize),									 &controlSize);	// ииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии radio button	if((osError = CreateRadioButtonControl(windowRef,&radioButtonRect,																				 CFSTR("Small Radio Button"),1,false,																				 &controlRef)) == noErr)	{		SetControlData(controlRef,kControlEntireControl,kControlSizeTag,sizeof(controlSize),									 &controlSize);		SetControlFontStyle(controlRef,&controlFontStyleStruc);	}	// ииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии checkbox	if((osError = CreateCheckBoxControl(windowRef,&checkBoxRect,CFSTR("Small Checkbox"),1,false,																			&controlRef)) == noErr)	{		SetControlData(controlRef,kControlEntireControl,kControlSizeTag,sizeof(controlSize),									 &controlSize);		SetControlFontStyle(controlRef,&controlFontStyleStruc);	}	// ииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии pop-up menu button	if(controlRef = GetNewControl(cSmallPopup,windowRef))		SetControlValue(controlRef,3);		// иииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии edit text	if((osError = CreateEditTextControl(windowRef,&editTextRect,CFSTR("Small Edit Text"),false,																			false,&controlFontStyleStruc,&controlRef)) == noErr)		SetKeyboardFocus(windowRef,controlRef,kControlFocusNextPart);	// иииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииииии push button	if((osError = CreatePushButtonControl(windowRef,&pushButtonRect,CFSTR("Small Push Button"),																				&controlRef)) == noErr)		SetControlFontStyle(controlRef,&controlFontStyleStruc);}// ****************************************************************** doMouseDownSmallControlsvoid  doMouseDownSmallControls(WindowRef windowRef,EventRecord *eventStrucPtr){	SInt16			controlPartCode;	ControlRef	controlRef = NULL;	ControlKind	controlKind;	SetPortWindowPort(windowRef);	GlobalToLocal(&eventStrucPtr->where);	controlPartCode = FindControl(eventStrucPtr->where,windowRef,&controlRef);	if(controlPartCode)		TrackControl(controlRef,eventStrucPtr->where,NULL);		if(controlRef)	{		GetControlKind(controlRef,&controlKind);		if((controlKind.kind == kControlKindRadioButton) || 				controlKind.kind == kControlKindCheckBox)			SetControlValue(controlRef,!GetControlValue(controlRef));	}}// *******************************************************************************************